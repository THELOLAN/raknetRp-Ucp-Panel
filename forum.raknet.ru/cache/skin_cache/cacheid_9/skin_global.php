<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 9               */
/* CACHE FILE: Generated: Wed, 19 Aug 2015 02:29:05 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_global_9 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['globalTemplate'] = array('showingapp','applications','didfirstappnow','navigationlink','closenavigationlink','forsuredidfirstnav','navigation','didfirstappnowbottom','navigationlink','closenavigationlink','forsuredidfirstnavbottom','navigationbottom','isCoreRC','hideRcForPerms','fbcenabled','isLargeTouch','isSmallTouch','notifications','messengerlink','notifications','showInboxNotify','ipsconnectRevalidateUrl','authenticating','updateTwitter','updateFacebook','update','canUpdateStatus','userLikeLink','nobbyNoMates','bloglink','pmLink','gallerylink','nexuslink','limFacebook','limTwitter','limWindows','memberbox','brandingBar','canSearch','showhomeurl','applicationsloop','hasCustomPrimaryNavigation','showacplink','rclink','accessreports','didfirstnav','switchnavigation','ruleslink','siterulestitle','siteruleslink','viewnewcontentapp','showQuickNav','hasHeaderAd','mainpageContent','hasFooterAd','didfirstnavbottom','switchnavigationbottom','countnavbottom','isTouchDevice','skinchangerInner','uagentlocked','skinchangerOuter','langchooser','markRead','privvy','lastvisit','isfloat','sqldebuglink','closesqldebuglink','showdebuglevel','includeLightboxDoReal','vigLinkEnabled');
$this->_funcHooks['includeCSS'] = array('donotminifycss','cssImport','cssInline','minifycss','csstominify','hasimportcss','inlinecss');
$this->_funcHooks['includeFeeds'] = array('dhjavascript','dhcss','dhrsd','dhraw','documentHeadItems','headitemsType','hasdocheaditems');
$this->_funcHooks['includeJS'] = array('usehttpsprototype','usehttpsscriptaculous','remoteloadjs','hasjsmodules','nmusehttpsp','nominifyremoteloadjs','nmusehttpss','nominifyremoteloadjs2','minifyjs','isLargeTouch');
$this->_funcHooks['includeMeta'] = array('ogCaveman','hasIdentifier','hasDescription','metaTagsInner','metaTags','metatags');
$this->_funcHooks['includeRTL'] = array('isrtl','checkrtl','langData','importrtlcss','importrtlcss','importrtlcss','importrtlcss','RTLMargin','hasMemberTopicMax');
$this->_funcHooks['includeVars'] = array('hasFBCHash','istm','istl','canswfupload','usefurl','hasNotification','autodst');
$this->_funcHooks['inlineLogin'] = array('anonymous');
$this->_funcHooks['liveEditJs'] = array('hasSkinData','liveEditOn');
$this->_funcHooks['nextPreviousTemplate'] = array('useAjaxPrev','prevpage','useAjaxNext','nextpage','haspages');
$this->_funcHooks['paginationTemplate'] = array('hasRealTitle','hasRealTitle','hasPage','activepage','pagination','hasRealTitleFirst','firstpage','hasRealTitlePrev','prevpage','furlinfo','normalpages','hasRealTitleNext','nextpage','hasRealTitleLast','lastpage','notDisableSinglePage','haspages');
$this->_funcHooks['quickSearch'] = array('inThisAppSearch','inThisAppNotSearch','InSearchQuestionMark','thisAppSearchableNotCore','appLoop','hasSearchApp','showTopic','inTopic','notTopic','showForum','inForum','appContextSearch','notCoreApp','lookElsewhere','matchesForums','inThisAppForums','canSearchForums','inThisAppMembers','canSearchMembers','inThisAppCore','canSearchCore');
$this->_funcHooks['shareLinks'] = array('hasOverrideApp','hasCustom','isEnabled','cacheLoop','gotLinks');
$this->_funcHooks['signature_separator'] = array('notMe');
$this->_funcHooks['userHoverCard'] = array('hasClassName','hasTitle','canSeeProfiles');
$this->_funcHooks['userInfoPane'] = array('customFields','customFieldsOuter','customFields','customFieldsOuter','membertitle','canSeeProfiles','hasVariable','canSeeProfiles2','avatar','rankimageimage','rankimage','hasWarningId','authorwarn','authorcfields');
$this->_funcHooks['userSmallPhoto'] = array('linkAvatarOpen','hasAlt','hasCustomClass','hasphoto','linkAvatarClose');
$this->_funcHooks['warnDetails'] = array('actionIsPermanent','hasAction','actions','hasReasonAndContent','hasContent','hasReason','hasExpireDate','canExpire','hasPoint','isVerbalOnly','hasModAndMemberNote','hasMemberNote','canSeeModNote');


}

/* -- defaultHeader --*/
function defaultHeader() {
$IPBHTML = "";
$IPBHTML .= "<a href='{$this->settings['board_url']}' title='{$this->lang->words['go_home']}' rel=\"home\" accesskey='1'><img src='http://ucp.raknet.ru/template/raknet/img/logo.png' alt='{$this->lang->words['logo']}' /></a>";
return $IPBHTML;
}

/* -- facebookShareButton --*/
function facebookShareButton($url, $title) {
$IPBHTML = "";
$IPBHTML .= "<li class='fbLike'><div class=\"fb-like\" data-href=\"{$url}\" data-send=\"false\" data-layout=\"button_count\" data-width=\"150\" data-show-faces=\"false\" data-action=\"like\"></div><div id=\"fb-root\"></div></li>
<script>
window.fbAsyncInit = function() {
	FB.init({
		appId      : '{$this->settings['fbc_appid']}',
		xfbml      : true,
		version    : 'v2.1'
	});
};
(function(d, s, id){
	var js, fjs = d.getElementsByTagName(s)[0];
	if (d.getElementById(id)) {return;}
	js = d.createElement(s); js.id = id;
	js.src = \"//connect.facebook.net/{$this->settings['fb_locale']}/sdk.js\";
	fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));
</script>";
return $IPBHTML;
}

/* -- forum_jump --*/
function forum_jump($html) {
$IPBHTML = "";
$IPBHTML .= "<form id='forum_jump' action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "", "public",'' ), "", "" ) . "' method='get'>
		<fieldset>
			<select name='showforum' id='showforumJump' class='input_select'>
				<optgroup label=\"{$this->lang->words['forum_jump']}\">
					<option value='0'>{$this->lang->words['forum_home']}</option>
					{$html}
				</optgroup>
			</select>
			" . (($this->member->session_type != 'cookie') ? ("<input type='hidden' name='s' value='{$this->member->session_id}' />") : ("")) . "
			<input type='submit' value='{$this->lang->words['jmp_go']}' class='input_submit alt' id='forum_jump_submit' />
		</fieldset>
	</form>";
return $IPBHTML;
}

/* -- globalTemplate --*/
function globalTemplate($html, $documentHeadItems, $css, $jsModules, $metaTags, array $header_items, $items=array(), $footer_items=array(), $stats=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['globalTemplate'] ) )
{
$count_4bb08bcb11c79a1432622fe6f6d4719d = is_array($this->functionData['globalTemplate']) ? count($this->functionData['globalTemplate']) : 0;
$this->functionData['globalTemplate'][$count_4bb08bcb11c79a1432622fe6f6d4719d]['html'] = $html;
$this->functionData['globalTemplate'][$count_4bb08bcb11c79a1432622fe6f6d4719d]['documentHeadItems'] = $documentHeadItems;
$this->functionData['globalTemplate'][$count_4bb08bcb11c79a1432622fe6f6d4719d]['css'] = $css;
$this->functionData['globalTemplate'][$count_4bb08bcb11c79a1432622fe6f6d4719d]['jsModules'] = $jsModules;
$this->functionData['globalTemplate'][$count_4bb08bcb11c79a1432622fe6f6d4719d]['metaTags'] = $metaTags;
$this->functionData['globalTemplate'][$count_4bb08bcb11c79a1432622fe6f6d4719d]['header_items'] = $header_items;
$this->functionData['globalTemplate'][$count_4bb08bcb11c79a1432622fe6f6d4719d]['items'] = $items;
$this->functionData['globalTemplate'][$count_4bb08bcb11c79a1432622fe6f6d4719d]['footer_items'] = $footer_items;
$this->functionData['globalTemplate'][$count_4bb08bcb11c79a1432622fe6f6d4719d]['stats'] = $stats;
}

if( !class_exists('Platform') ) require_once IPS_PUBLIC_PATH . '/style_images/' . $this->registry->getClass('output')->skin['set_image_dir'] . '/_php/loader.php';

$this->did_first = 0;

$this->did_first_bottom = 0;
$IPBHTML .= "<!DOCTYPE html>
	<html lang=\"en\" " . ((IPSLib::fbc_enabled() === TRUE || $this->settings['fbc_appid']) ? (" xmlns:fb=\"http://www.facebook.com/2008/fbml\"") : ("")) . ">
	<head>
		" . Platform::javascripts() . "
		<meta charset=\"{$this->settings['gb_char_set']}\" />
		<title>{$header_items['title']}</title>
		<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />
		<link rel=\"shortcut icon\" href='" . (($this->registry->output->isHTTPS) ? ("{$this->settings['board_url_https']}") : ("{$this->settings['board_url']}")) . "/favicon.ico' />
		<link rel=\"image_src\" href='{$this->settings['meta_imagesrc']}' />
		<script type='text/javascript'>
		//<![CDATA[
			jsDebug			= " . intval($this->settings['_jsDebug']) . "; /* Must come before JS includes */
			DISABLE_AJAX	= parseInt({$this->settings['disable_text_ajax']}); /* Disables ajax requests where text is sent to the DB; helpful for charset issues */
			inACP			= false;
			var isRTL		= false;
			var rtlIe		= '';
			var rtlFull		= '';
		//]]>
		</script>
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeCSS' ) ? $this->registry->getClass('output')->getTemplate('global')->includeCSS($css) : '' ) . "
		<meta property=\"og:title\" content=\"{$this->registry->output->encodeMetaTagContent( str_replace( ' - ' . $this->settings['board_name'], '', $header_items['title'] ) )}\"/>
		<meta property=\"og:site_name\" content=\"{$this->registry->output->encodeMetaTagContent( $this->settings['board_name'] )}\"/>
		<meta property=\"og:type\" content=\"article\" />
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeMeta' ) ? $this->registry->getClass('output')->getTemplate('global')->includeMeta($metaTags) : '' ) . "
		" . (($this->registry->output->isLargeTouchDevice()) ? ("
		<!-- <meta name=\"viewport\" content=\"width=device-width;\"> -->
		") : ("")) . "
		" . (($this->registry->output->isSmallTouchDevice()) ? ("
		<meta name=\"viewport\" content=\"width=1024px\">
		") : ("")) . "
		<script type='text/javascript' src=\"{style_images_url}/js/ipbforumskins.js\"></script>
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeJS' ) ? $this->registry->getClass('output')->getTemplate('global')->includeJS($jsModules) : '' ) . "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeFeeds' ) ? $this->registry->getClass('output')->getTemplate('global')->includeFeeds($documentHeadItems) : '' ) . "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeRTL' ) ? $this->registry->getClass('output')->getTemplate('global')->includeRTL() : '' ) . "		
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeVars' ) ? $this->registry->getClass('output')->getTemplate('global')->includeVars($header_items) : '' ) . "
	</head>
	<body id='ipboard_body' class=\"" . Platform::state()->css_classes() . "\">
		<p id='content_jump' class='hide'><a href='#j_content' title='{$this->lang->words['jump_to_content']}' accesskey='m'>{$this->lang->words['jump_to_content']}</a></p>
		
<div class='wrapper'>
<div id='user_bar' class='clearfix'>
					" . (($this->memberData['member_id']) ? ("<div id='user_navigation' class='logged_in'>
							<ul class='ipsList_inline'>
								<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$this->memberData['member_id']}", "public",'' ), "{$this->memberData['members_seo_name']}", "showuser" ) . "\" title='{$this->lang->words['your_profile']}'>
                                    <img src='{$this->memberData['pp_small_photo']}' alt=\"{$this->memberData['members_display_name']}{$this->lang->words['users_photo']}\" class='user_photo' />
                                </a></li>
                                <li><a id='user_link' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$this->memberData['member_id']}", "public",'' ), "{$this->memberData['members_seo_name']}", "showuser" ) . "\"  title='{$this->lang->words['your_profile']}'>{$this->memberData['members_display_name']} &nbsp;<span id='user_link_dd'></span></a></li>							
								" . ((! ( ! $this->memberData['member_id'] && $this->settings['force_login'] ) && !($this->settings['board_offline'] && !$this->memberData['g_access_offline'])) ? ("" . (($this->memberData['g_use_pm'] AND $this->memberData['members_disable_pm'] == 0) ? ("<li><a data-clicklaunch=\"getInboxList\" id='inbox_link' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=messaging", "public",'' ), "", "" ) . "' title='{$this->lang->words['your_messenger']}'><img src=\"{style_images_url}/clear.gif\" alt=\"\" />" . (($this->memberData['msg_count_new']) ? ("<span class='ipsHasNotifications'>{$this->memberData['msg_count_new']}</span>") : ("")) . "&nbsp;</a></li>") : ("")) . "
									<li><a data-clicklaunch=\"getNotificationsList\" id='notify_link' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=usercp&amp;area=notificationlog", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['notifications_at_the_top']}\"><img src=\"{style_images_url}/clear.gif\" alt=\"\" />" . (($this->memberData['notification_cnt']) ? ("<span class='ipsHasNotifications'>{$this->memberData['notification_cnt']}</span>") : ("")) . "&nbsp;</a></li>") : ("")) . "
    							<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;do=logout&amp;k={$this->member->form_hash}", "public",'' ), "", "" ) . "\">{$this->lang->words['log_out']}</a></li>								
								" . (($this->memberData['member_group_id'] == $this->settings['auth_group']) ? ("" . (($this->memberData['ipsconnect_revalidate_url']) ? ("
								        <li><a href=\"{$this->memberData['ipsconnect_revalidate_url']}\" target='_blank' title='{$this->lang->words['resend_val']}'>{$this->lang->words['resend_val']}</a> </li>
								") : ("
									<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=register&amp;do=reval", "public",'' ), "", "" ) . "\" title='{$this->lang->words['resend_val']}'>{$this->lang->words['resend_val']}</a></li>
								")) . "") : ("")) . "
							</ul>
						</div>
						<!-- ::: USER DROP DOWN MENU ::: -->
						<div id='user_link_menucontent' class='ipsHeaderMenu clearfix boxShadow' style='display: none'>
							<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$this->memberData['member_id']}", "public",'' ), "{$this->memberData['members_seo_name']}", "showuser" ) . "\" title='{$this->lang->words['your_profile']}' class='ipsUserPhotoLink left'>
								<img src='{$this->memberData['pp_small_photo']}' alt=\"" . sprintf($this->lang->words['users_photo'],$this->memberData['members_display_name']) . "\" class='ipsUserPhoto ipsUserPhoto_medium photo' />
							</a>
							
							<div class='left'>
								" . (($this->registry->getClass('memberStatus')->canCreate( $this->memberData ) && !($this->settings['board_offline'] && !$this->memberData['g_access_offline'])) ? ("<form id='statusForm' action='{$this->settings['base_url']}app=members&amp;module=profile&amp;section=status&amp;do=new&amp;k={$this->member->form_hash}&amp;id={$this->memberData['member_id']}' method='post'>
										<input type='text' id='statusUpdateGlobal' name='content' class='input_text' style='width: 97%' /><br />
										<input type='submit' id='statusSubmitGlobal' class='ipsButton_secondary' value='{$this->lang->words['global_update_status']}' />
										" . (((IPSLib::twitter_enabled() OR IPSLib::fbc_enabled() ) AND ( $this->memberData['fb_uid'] OR $this->memberData['twitter_id'] )) ? ("&nbsp;&nbsp;
											" . ((IPSLib::twitter_enabled() AND ( $this->memberData['twitter_id'] )) ? ("<input type='checkbox' id='su_TwitterGlobal' value='1' name='su_Twitter' /> <label for='su_TwitterGlobal' class='desc ipsType_smaller'>Twitter</label>") : ("")) . " &nbsp; 
											" . ((IPSLib::fbc_enabled() AND ( $this->memberData['fb_uid'] )) ? ("&nbsp;<input type='checkbox' id='su_FacebookGlobal' value='1' name='su_Facebook' /> <label for='su_FacebookGlobal' class='desc ipsType_smaller'>Facebook</label>") : ("")) . "") : ("")) . "
										<br />
										<hr />
									</form>") : ("")) . "
									<ul id='links'>
										<li id='user_profile'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$this->memberData['member_id']}", "public",'' ), "{$this->memberData['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['your_profile']}'>{$this->lang->words['my_profile']}</a></li>
										<li id='user_ucp'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=usercp", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['cp_tool_tip']}\">{$this->lang->words['your_cp']}</a></li>
										<li id='user_content'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;mid={$this->memberData['member_id']}", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['my_content_link']}\">{$this->lang->words['my_content_link']}</a></li>
										" . ((count( IPSLib::getEnabledApplications('like') )) ? ("
											<li id='user_likes'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=followed", "public",'' ), "", "" ) . "' title='{$this->lang->words['your_likes']}'>{$this->lang->words['your_likes']}</a></li>
										") : ("")) . "
										" . (($this->settings['friends_enabled'] && $this->memberData['g_can_add_friends']) ? ("
											<li id='user_friends'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=list", "public",'' ), "", "" ) . "' title=\"{$this->lang->words['manage_friends']}\" class='manage_friends'>{$this->lang->words['manage_friends']}</a></li>
										") : ("")) . "
										<li id='user_enemies'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=usercp&amp;tab=core&amp;area=ignoredusers", "public",'' ), "", "" ) . "' title=\"{$this->lang->words['manage_ignored_users']}\" class='manage_enemies'>{$this->lang->words['manage_ignored_users']}</a></li>
										" . (($this->memberData['has_blog'] AND IPSLib::appIsInstalled('blog')) ? ("
											<li id='user_blog'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=manage", "public",'' ), "false", "manageblog" ) . "\">{$this->lang->words['manage_blogs']}</a></li>
										") : ("")) . "
										" . (($this->memberData['members_disable_pm'] != 2 && $this->memberData['g_use_pm']) ? ("
											<li id='user_pm'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&module=messaging", "public",'' ), "", "" ) . "\">{$this->lang->words['user_dd_go_pm']}</a></li>
										") : ("")) . "
										" . (($this->memberData['has_gallery'] AND IPSLib::appIsInstalled('gallery')) ? ("
											<li id='user_gallery'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=gallery&amp;user={$this->memberData['member_id']}", "public",'' ), "{$this->memberData['members_seo_name']}", "useralbum" ) . "' title=\"{$this->lang->words['go_to_my_gallery']}\">{$this->lang->words['my_gallery']}</a></li>
										") : ("")) . "
										" . ((IPSLib::appIsInstalled('nexus')) ? ("
											<li id='user_nexus'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=nexus&amp;module=clients", "public",'' ), "", "" ) . "' title=\"{$this->lang->words['client_area']}\">{$this->lang->words['client_area']}</a></li>
										") : ("")) . "
									</ul>
							</div>
						</div>") : ("<div id='user_navigation' class='not_logged_in'>
							
							<ul class='ipsList_inline'>
								<li>
									<span class='services'>
										" . ((IPSLib::loginMethod_enabled('facebook')) ? ("
											<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;serviceClick=facebook", "public",'' ), "", "" ) . "'>" . $this->registry->getClass('output')->getReplacement("lim_facebook") . "</a>
										") : ("")) . "
										" . ((IPSLib::loginMethod_enabled('twitter')) ? ("
											<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;serviceClick=twitter", "public",'' ), "", "" ) . "'>" . $this->registry->getClass('output')->getReplacement("lim_twitter") . "</a>
										") : ("")) . "
										" . ((IPSLib::loginMethod_enabled('live')) ? ("
											<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;do=process&amp;use_live=1&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "'>" . $this->registry->getClass('output')->getReplacement("lim_windows") . "</a>
										") : ("")) . "
									</span>
									<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login", "public",'' ), "", "" ) . "' title='{$this->lang->words['sign_in']}' id='sign_in'><img src=\"{style_images_url}/user_login.png\" alt=\"\" /> {$this->lang->words['sign_in']}</a>
								</li>
								
							</ul>
						</div>")) . "
</div>

<div id='ipbwrapper'>

			<!-- ::: BRANDING STRIP: Logo and search box ::: -->
			<div id='branding' class='clearfix'>
                <div id='logo'>
                    " . ((ipsRegistry::$applications[ $this->registry->getCurrentApplication() ]['hasCustomHeader']) ? ("
                        " . ( method_exists( $this->registry->getClass('output')->getTemplate(''.$this->registry->getCurrentApplication().'_global'), 'overwriteHeader' ) ? $this->registry->getClass('output')->getTemplate(''.$this->registry->getCurrentApplication().'_global')->overwriteHeader() : '' ) . "
                    ") : ("
                        " . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'defaultHeader' ) ? $this->registry->getClass('output')->getTemplate('global')->defaultHeader() : '' ) . "
                    ")) . "
                </div>
                " . (($this->memberData['g_use_search'] && $this->settings['allow_search']) ? ("" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'quickSearch' ) ? $this->registry->getClass('output')->getTemplate('global')->quickSearch() : '' ) . "") : ("")) . "
			</div>
			<!-- ::: APPLICATION TABS ::: -->

		<div id='primary_nav' class='clearfix'>
                <ul class='ipsList_inline' id='community_app_menu'>
                    " . (($this->settings['home_url'] AND $this->settings['home_name']) ? ("
                        <li id='nav_home' class='left'><a href='{$this->settings['home_url']}' title='{$this->lang->words['homepage_title']}' rel=\"home\">{$this->settings['home_name']}</a></li>
                    ") : ("")) . "
                    " . ((!empty($header_items['primary_navigation_menu'])) ? ("
                            {$header_items['primary_navigation_menu']}
                        ") : ("" . ((is_array($header_items['applications']) AND count($header_items['applications'])) ? ("
                        ".$this->__f__f8b1dd19e262a1cc04175f060bd63622($html,$documentHeadItems,$css,$jsModules,$metaTags,$header_items,$items,$footer_items,$stats)."                    ") : ("")) . "")) . "
<!--
<li id=\"nav_more\" data-dropdown>
	<a href=\"#\">Ещё <img src=\"http://forum.raknet.ru/public/style_images/R_Style/useropts_arrow.png\" alt=\"\" /></a>
	<ul>
		<li><a href=\"http://forum.raknet.ru/pages/house\">Карта домов</a></li>
		<li><a href=\"http://forum.raknet.ru/pages/biz\">Карта бизнесов</a></li>
	</ul>
</li>
-->
                    <li id='nav_other_apps' style='display: none'>
                        <a href='#' class='ipbmenu' id='more_apps'>{$this->lang->words['more_apps']} <img src='{$this->settings['img_url']}/useropts_arrow.png' /></a>
                    </li>
                    " . Platform::template()->color_picker() . "
                </ul>
		</div>
<!--<br />
<font color=\"#2c3742\" size=\"5\">Можете начать перенос своих биографий в страницу профиля, для этого перейдите во вкладку <a color=\"red\" href=\"http://forum.raknet.ru/index.php?app=core&module=usercp\">Настройки</a> и нажмите Редактировать биографию. После проверки биографии Модератором она будет видна на странице вашего профиля.</font>
<br />
-->
			<!-- ::: MAIN CONTENT AREA ::: -->
			<div id='content' class='clearfix'>

			<!-- ::: TOP BAR: Sign in / register or user drop down and notification alerts ::: -->			
					" . (($this->memberData['is_mod'] OR !empty($this->memberData['access_report_center']) || ($this->memberData['g_access_cp'] AND !$this->settings['security_remove_acp_link'])) ? ("<div id='admin_bar'>
							" . (($this->memberData['g_access_cp'] AND !$this->settings['security_remove_acp_link']) ? ("
								<ul class='ipsList_inline right'>
                                <li>
									<a href=\"{$this->settings['_admin_link']}\" title='{$this->lang->words['admin_cp']}' target=\"_blank\">{$this->lang->words['login_to_acp']}</a>
								</li>
                                </ul>
							") : ("")) . "
                        <ul class='ipsList_inline left'>
							<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=modcp", "public",'' ), "", "" ) . "\" title='{$this->lang->words['gbl_modcp_link_title']}'>{$this->lang->words['gbl_modcp_link']}</a></li>
							" . (($this->memberData['access_report_center'] && $this->memberData['_cache']['report_num'] > 0) ? ("
								<li class='active'>
									<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=reports&amp;do=index", "public",'' ), "", "" ) . "\" title='{$this->lang->words['view_reports']}'>{$this->memberData['_cache']['report_num']} {$this->lang->words['report_member_bar']}</a>
								</li>
							") : ("")) . "
						</ul></div>") : ("")) . "

				<!-- ::: NAVIGATION BREADCRUMBS ::: -->

					<div id='secondary_navigation' class='clearfix'>
                    
						<ol class='breadcrumb top ipsList_inline left'>
														" . ((!$this->settings['remove_forums_nav'] OR ipsRegistry::$current_application == 'forums') ? ("<li itemscope itemtype=\"http://data-vocabulary.org/Breadcrumb\">
									<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "act=idx", "public",'' ), "false", "" ) . "' itemprop=\"url\">
										<span itemprop=\"title\">{$this->settings['board_name']}</span>
									</a>
								</li>
								" . (($this->did_first=1) ? ("") : ("")) . "") : ("")) . "
							".$this->__f__f9111cbf49b94b6f4f53664e50d9ca15($html,$documentHeadItems,$css,$jsModules,$metaTags,$header_items,$items,$footer_items,$stats)."						</ol>
                        
                        <ul id='secondary_links' class='ipsList_inline right'>
                        " . (($this->settings['gl_show'] and $this->settings['gl_title']) ? ("<li><a href='" . (($this->settings['gl_link']) ? ("{$this->settings['gl_link']}") : ("" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=boardrules", "public",'' ), "", "" ) . "")) . "'>" . (($this->settings['gl_title']) ? ("{$this->settings['gl_title']}") : ("{$this->lang->words['board_rules']}")) . "</a></li>") : ("")) . "
                        <!--
<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app=" . (($this->registry->getCurrentApplication() != 'core' AND IPSLib::appIsSearchable( $this->registry->getCurrentApplication() )) ? ("{$this->registry->getCurrentApplication()}") : ("forums")) . "", "public",'' ), "", "" ) . "' accesskey='2'>{$this->lang->words['view_new_posts']}</a></li>
-->
                        " . ((! ( ! $this->memberData['member_id'] && $this->settings['force_login'] ) && !($this->settings['board_offline'] && !$this->memberData['g_access_offline']) && $this->memberData['g_view_board']) ? ("
                        <li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=navigation&amp;inapp=" . IPS_APP_COMPONENT . "", "public",'' ), "", "" ) . "\" rel=\"quickNavigation\" accesskey='9' id='quickNavLaunch' title=\"{$this->lang->words['launch_quicknav']}\"><img src=\"{style_images_url}/icon_quicknav.png\" alt=\"\" /></a></li>
                        ") : ("")) . "
						</ul>
                    
					</div>
				
				<!-- ::: CONTENT ::: -->

                <noscript>
                    <div class='message error'>
                        <strong>{$this->lang->words['gbl_no_js_title']}</strong>
                        <p>{$this->lang->words['gbl_no_js']}</p>
                    </div>
                    <br />
                </noscript>

				" . (($items['adHeaderCode']) ? ("<div class='ipsAd'>{$items['adHeaderCode']}</div>") : ("")) . "
				" . (($html) ? ("{$html}") : ("")) . "
				" . (($items['adFooterCode']) ? ("<div class='ipsAd'>{$items['adFooterCode']}</div>") : ("")) . "
				<ol class='breadcrumb bottom ipsList_inline left clearfix clear'>
					" . ((count( $items['navigation'] )) ? ("						" . ((!$this->settings['remove_forums_nav'] OR ipsRegistry::$current_application == 'forums') ? ("<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "act=idx", "public",'' ), "false", "" ) . "'>{$this->settings['board_name']}</a></li>
							" . (($this->did_first_bottom=1) ? ("") : ("")) . "") : ("")) . "
						".$this->__f__98270fdd0f0500d2bedd17191d1545fe($html,$documentHeadItems,$css,$jsModules,$metaTags,$header_items,$items,$footer_items,$stats)."") : ("
						<li>&nbsp;</li>
					")) . "
				</ol>
			</div>


</div>

			<!-- ::: FOOTER (Change skin, language, mark as read, etc) ::: -->
			<div id='footer_utilities' class='clearfix clear'>
				<a rel=\"nofollow\" href='#top' id='backtotop' title='{$this->lang->words['go_to_top']}'><img src='{$this->settings['img_url']}/top.png' alt='' /></a>
				{$footer_items['copyright']}
				<ul class='ipsList_inline left'>
					<li>
						<img src='{$this->settings['img_url']}/feed.png' alt='{$this->lang->words['rss_feed']}' id='rss_feed' class='clickable' />
					</li>
					" . ((! $this->member->is_not_human) ? ("" . (($this->memberData['userAgentLocked'] AND ! $this->memberData['userAgentBypass']) ? ("
							<li id='useragent_msg'>
								{$this->lang->words['skin_browser_set']} <a href='#' data-clicklaunch='changeSkin' data-skinid='unlockUserAgent'>{$this->lang->words['override_browser_theme']}</a>
							</li>
						") : ("" . (($this->registry->output->isTouchDevice()) ? ("
							<li>
								<a href='#' data-clicklaunch='changeSkin' data-skinid='setAsMobile'>{$this->lang->words['set_mobile_theme']}</a>
							</li>
						") : ("")) . "
						" . ((count($footer_items['skin_chooser']) > 1) ? ("
							<li>
								<a rel=\"nofollow\" id='new_skin' href='#'>{$this->lang->words['change_theme']}</a>			
								<ul id='new_skin_menucontent' class='ipbmenu_content with_checks' style='display: none'>
									".$this->__f__0ed56bad46b478a2fcd82baf251d26ca($html,$documentHeadItems,$css,$jsModules,$metaTags,$header_items,$items,$footer_items,$stats)."								</ul>
							</li>
						") : ("")) . "")) . "") : ("")) . "
					" . ((! $this->member->is_not_human && count( $footer_items['lang_chooser']['options'] ) > 1) ? ("
						<li>
							<a rel=\"nofollow\" href='#' id='new_language'>{$footer_items['lang_chooser']['default']}</a>							
							<ul id='new_language_menucontent' class='ipbmenu_content with_checks' style='display: none'>
								".$this->__f__12fb95e8ca00a00286a48bed7f4af37b($html,$documentHeadItems,$css,$jsModules,$metaTags,$header_items,$items,$footer_items,$stats)."							</ul>
						</li>
					") : ("")) . "
					" . ((( ! $this->member->is_not_human ) && ( $this->memberData['member_id'] || $this->settings['topic_marking_guests'] )) ? ("
						<li>
							<a rel=\"nofollow\" id='mark_all_read' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=forums&amp;section=markasread&amp;marktype=all&amp;k={$this->member->form_hash}", "public",'' ), "", "" ) . "\" title='{$this->lang->words['mark_all_as_read']}'>{$this->lang->words['mark_board_as_read']}</a>
							<ul id='mark_all_read_menucontent' class='ipbmenu_content' style='display: none'>
								".$this->__f__a30839fe2255c8d4e69c83fc337b5ba5($html,$documentHeadItems,$css,$jsModules,$metaTags,$header_items,$items,$footer_items,$stats)."								<li>
									<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=forums&amp;section=markasread&amp;marktype=all&amp;k={$this->member->form_hash}", "public",'' ), "", "" ) . "\"><strong>{$this->lang->words['mark_all_as_read']}</strong></a>
								</li>
							</ul>
						</li>
					") : ("")) . "
					" . (($this->settings['priv_title']) ? ("<li><a rel=\"nofollow\" href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=privacy", "public",'' ), "false", "privacy" ) . "'>Политика Конфиденциальности</a></li>") : ("")) . "
					<li>
						<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=help", "public",'' ), "", "" ) . "\" title='{$this->lang->words['view_help']}' rel=\"help\" accesskey='6'>{$this->lang->words['sj_help']}</a>
					</li>				
				</ul>
			</div>
			" . (($this->memberData['member_id'] and $this->settings['debug_level']) ? ("<div id='ipsDebug_footer'>
					<strong>{$this->lang->words['time_now']}</strong> {$footer_items['time']}
					" . (($this->memberData['member_id'] AND $this->memberData['last_visit']) ? ("<strong>{$this->lang->words['you_last_visit']}</strong> " . IPSText::htmlspecialchars($this->registry->getClass('class_localization')->getDate($this->memberData['last_visit'],"short", 0)) . "") : ("")) . "
					<strong>{$this->lang->words['stat_exec']}</strong> {$stats['ex_time']} " . ((is_float($stats['ex_time'])) ? ("{$this->lang->words['stats_sec']}") : ("")) . "
					<strong>{$this->lang->words['stat_load']}</strong> {$stats['server_load']}
					<strong>{$this->lang->words['stat_queries']}</strong> {$stats['queries']} " . ((IPS_SQL_DEBUG_MODE) ? ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$this->settings['query_string_safe']}&amp;debug=1", "public",'' ), "", "" ) . "'>") : ("")) . "{$this->lang->words['stats_queries']}" . ((IPS_SQL_DEBUG_MODE) ? ("</a>") : ("")) . "
					<strong>{$this->lang->words['stat_gzip']}</strong> {$stats['gzip_status']}
				</div>") : ("")) . "
			<div id='stats_div'>{$stats['task']}</div>
			" . (($this->settings['do_include_lightbox_real']) ? ("
				" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_lightbox_real' ) ? $this->registry->getClass('output')->getTemplate('global')->include_lightbox_real() : '' ) . "
			") : ("
				<script type=\"text/javascript\">
					ipb.global.lightBoxIsOff();
				</script>
			")) . "<!--hook.if.skin_global.globalTemplate.includeLightboxDoReal.post.endif-->
		</div>
		
		<!--DEBUG_STATS-->
" . ((!$this->memberData['member_id']) ? ("" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'inlineLogin' ) ? $this->registry->getClass('output')->getTemplate('global')->inlineLogin() : '' ) . "") : ("")) . "

        <script type='text/javascript'>
            // if( $('primary_nav') ){    ipb.global.activateMainMenu(); }
        </script>
        " . (($this->settings['viglink_enabled'] and ( !$this->settings['viglink_groups'] or IPSMember::isInGroup( $this->memberData, explode( ',', $this->settings['viglink_groups'] ) ) )) ? ("<script type=\"text/javascript\">
              var vglnk = { api_url: '//api.viglink.com/api',
                            key: '{$this->settings['viglink_api_key']}'" . (($this->settings['viglink_subid']) ? (",
                            sub_id: '{$this->settings['sub_id']}'
                            ") : ("")) . "
                          };
            
              (function(d, t) {
                var s = d.createElement(t); s.type = 'text/javascript'; s.async = true;
                s.src = ('https:' == document.location.protocol ? vglnk.api_url :
                         '//cdn.viglink.com/api') + '/vglnk.js';
                var r = d.getElementsByTagName(t)[0]; r.parentNode.insertBefore(s, r);
              }(document, 'script'));
            </script>") : ("")) . "

	</body>
</html>";
return $IPBHTML;
}


function __f__f8b1dd19e262a1cc04175f060bd63622($html, $documentHeadItems, $css, $jsModules, $metaTags, array $header_items, $items=array(), $footer_items=array(), $stats=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $header_items['applications'] as $data )
	{
		
$this->templateVars['appActive'] = "";
$this->__default__templateVars['appActive'] = "";
if ( $data['app_active'] )
{
	$this->templateVars['appActive'] = "active";
}
else {$this->templateVars['appActive'] = $this->__default__templateVars['appActive']; }

		$__iteratorCount++;
		$_ips___x_retval .= "
                            " . (($data['app_show']) ? ("
                                                                <li id='nav_app_{$data['app_dir']}' class=\"left " . $this->templateVars["appActive"] . "\"><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['app_link']}", "{$data['app_base']}",'' ), "{$data['app_seotitle']}", "{$data['app_template']}" ) . "' title='" . sprintf( $this->lang->words['go_to_prefix'], IPSLib::getAppTitle($data['app_dir']) ) . "'>" . IPSLib::getAppTitle($data['app_dir']) . "</a></li>
                            ") : ("")) . "
                        
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__f9111cbf49b94b6f4f53664e50d9ca15($html, $documentHeadItems, $css, $jsModules, $metaTags, array $header_items, $items=array(), $footer_items=array(), $stats=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $items['navigation'] as $idx => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
								<li itemscope itemtype=\"http://data-vocabulary.org/Breadcrumb\">
									" . (($this->did_first) ? ("<span class='nav_sep'>" . $this->registry->getClass('output')->getReplacement("f_nav_sep") . "</span>") : ("")) . "
									 " . (($data[1]) ? ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data[1]}", "$data[4]",'' ), "$data[2]", "$data[3]" ) . "' title='{$this->lang->words['nav_return_to']} " . IPSText::striptags( IPSText::htmlspecialchars( $data[0] ) ) . "' itemprop=\"url\">") : ("")) . "<span itemprop=\"title\">{$data[0]}</span>" . (($data[1]) ? ("</a>") : ("")) . "
								</li>
								" . (($this->did_first=1) ? ("") : ("")) . "
							
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__98270fdd0f0500d2bedd17191d1545fe($html, $documentHeadItems, $css, $jsModules, $metaTags, array $header_items, $items=array(), $footer_items=array(), $stats=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $items['navigation'] as $idx => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
							<li>" . (($this->did_first_bottom) ? ("<span class='nav_sep'>" . $this->registry->getClass('output')->getReplacement("f_nav_sep") . "</span>") : ("")) . " " . (($data[1]) ? ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data[1]}", "$data[4]",'' ), "$data[2]", "$data[3]" ) . "' title='{$this->lang->words['nav_return_to']} {$data[0]}'>") : ("")) . "<span>{$data[0]}</span>" . (($data[1]) ? ("</a>") : ("")) . "</li>
							" . (($this->did_first_bottom=1) ? ("") : ("")) . "
						
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__0ed56bad46b478a2fcd82baf251d26ca($html, $documentHeadItems, $css, $jsModules, $metaTags, array $header_items, $items=array(), $footer_items=array(), $stats=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $footer_items['skin_chooser'] as $skin )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
										<li " . (($skin['selected']) ? ("class='selected'") : ("")) . ">
											<a href='#' data-clicklaunch='changeSkin' data-skinid='{$skin['id']}'>{$skin['title']}</a>
										</li>
									
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__12fb95e8ca00a00286a48bed7f4af37b($html, $documentHeadItems, $css, $jsModules, $metaTags, array $header_items, $items=array(), $footer_items=array(), $stats=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $footer_items['lang_chooser']['options'] as $lang )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
									<li " . (($lang['selected']) ? ("class='selected'") : ("")) . ">
										<a href=\"{$this->lang->changeLanguageUrl( $lang['id'] )}\">{$lang['title']}</a>
									</li>
								
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__a30839fe2255c8d4e69c83fc337b5ba5($html, $documentHeadItems, $css, $jsModules, $metaTags, array $header_items, $items=array(), $footer_items=array(), $stats=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $footer_items['mark_read_apps'] as $app => $appData )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
									<li>
										" . (($this->memberData['showReportCenter'] OR $app != 'core') ? ("<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=forums&amp;section=markasread&amp;marktype=app&amp;markApp={$app}&amp;k={$this->member->form_hash}", "public",'' ), "", "" ) . "\">" . (($app=='core') ? ("{$this->lang->words['markread_rc_link']}") : ("" . IPSLib::getAppTitle($app) . "")) . "</a>") : ("")) . "
									</li>
								
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- googlePlusOneButton --*/
function googlePlusOneButton($url, $title, $params) {
$IPBHTML = "";
$IPBHTML .= "<script type=\"text/javascript\" src=\"https://apis.google.com/js/plusone.js\">
	" . ((!empty( $params ) and isset( $params['lang'] )) ? ("
		{lang: '{$params['lang']}'}
	") : ("")) . "
</script>
<li><div class='googlePlusOne'><g:plusone count=\"false\" size=\"small\"></g:plusone></div></li>";
return $IPBHTML;
}

/* -- include_highlighter --*/
function include_highlighter($load_when_needed=0) {
$IPBHTML = "";
$IPBHTML .= "" . $this->registry->getClass('output')->addToDocumentHead( 'importcss', "{$this->settings['css_base_url']}style_css/prettify.css" ) . "
	<script type=\"text/javascript\" src=\"{$this->settings['js_base_url']}js/3rd_party/prettify/prettify.js\"></script>
	<script type='text/javascript' src='{$this->settings['js_base_url']}js/3rd_party/prettify/lang-sql.js'></script>
	<!-- By default we load generic code, php, css, sql and xml/html; load others here if desired -->
	<script type=\"text/javascript\">
	//<![CDATA[
		Event.observe( window, 'load', function(e){ prettyPrint() });
	//]]>
	</script>";
return $IPBHTML;
}

/* -- include_lightbox --*/
function include_lightbox() {
$IPBHTML = "";

$this->settings['do_include_lightbox_real'] = 1;
$IPBHTML .= "";
return $IPBHTML;
}

/* -- include_lightbox_real --*/
function include_lightbox_real() {
$IPBHTML = "";
$IPBHTML .= "<script type='text/javascript' src='{$this->settings['js_base_url']}js/3rd_party/lightbox.js'></script>
<script type='text/javascript'>
//<![CDATA[
	// Lightbox Configuration
	LightboxOptions = Object.extend({
	    fileLoadingImage:        '{$this->settings['img_url']}/lightbox/loading.gif',
	    fileBottomNavCloseImage: '{$this->settings['img_url']}/lightbox/closelabel.gif',
	    overlayOpacity: 0.8,   // controls transparency of shadow overlay
	    animate: true,         // toggles resizing animations
	    resizeSpeed: 10,        // controls the speed of the image resizing animations (1=slowest and 10=fastest)
	    borderSize: 10,         //if you adjust the padding in the CSS, you will need to update this variable
		// When grouping images this is used to write: Image # of #.
		// Change it for non-english localization
		labelImage: \"{$this->lang->words['lightbox_label']}\",
		labelOf: \"{$this->lang->words['lightbox_of']}\"
	}, window.LightboxOptions || {});
/* Watch for a lightbox image and set up our downloadbutton watcher */
document.observe('click', (function(event){
    var target = event.findElement('a[rel*=\"lightbox\"]') || event.findElement('area[rel*=\"lightbox\"]') || event.findElement('span[rel*=\"lightbox\"]');
    if (target) {
        event.stop();
        gbl_addDownloadButton();
    }
}).bind(this));
var _to    = '';
var _last  = '';
function gbl_addDownloadButton()
{
	if ( typeof( ipsLightbox.lightboxImage ) != 'undefined' && ipsLightbox.lightboxImage.src )
	{
		if ( _last != ipsLightbox.lightboxImage.src )
		{
			if ( ! $('gbl_d') )
			{
				$('bottomNav').insert( { top: \"<div id='gbl_d' style='text-align:right;padding-bottom:4px;'></div>\" } );
			}
			
			$('gbl_d').update( \"<a href='\"+ ipsLightbox.lightboxImage.src + \"' target='_blank'><img src='{$this->settings['img_url']}/lightbox/download-icon.png' /></a>\" );
			
			_last = ipsLightbox.lightboxImage.src;
		}
	}
	
	/* Check for init and then keep checking for new image */
	_to = setTimeout( \"gbl_addDownloadButton()\", 1000 );
}
//]]>
</script>";
return $IPBHTML;
}

/* -- includeCSS --*/
function includeCSS($css) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['includeCSS'] ) )
{
$count_49fac60058ef5a01218fb0c18383710d = is_array($this->functionData['includeCSS']) ? count($this->functionData['includeCSS']) : 0;
$this->functionData['includeCSS'][$count_49fac60058ef5a01218fb0c18383710d]['css'] = $css;
}

$this->minify = array();

if( !class_exists('Platform') ) require_once IPS_PUBLIC_PATH . '/style_images/' . $this->registry->getClass('output')->skin['set_image_dir'] . '/_php/loader.php';
$IPBHTML .= "" . ((is_array( $css['import'] )) ? ("" . (($this->settings['use_minify']) ? ("") : ("")) . "
	".$this->__f__44243fcf6f9310aabcc9d0ff67764104($css)."	" . (($this->settings['use_minify'] AND count($this->minify)) ? ("
		<link rel=\"stylesheet\" type=\"text/css\" media='screen,print' href=\"{$this->settings['css_base_url']}min/index.php?ipbv={$this->registry->output->antiCacheHash}&amp;f=" . str_replace( $this->settings['css_base_url'], PUBLIC_DIRECTORY . '/', implode( ',', $this->minify ) ) . "\" />
	") : ("")) . "") : ("")) . "
" . ((is_array( $css['inline'] ) AND count( $css['inline'] )) ? ("
	".$this->__f__a1c08c292e02e31cdcf8af1458c60715($css)."") : ("")) . "
<!--[if lte IE 7]>
	<link rel=\"stylesheet\" type=\"text/css\" title='Main' media=\"screen\" href=\"{$this->settings['css_base_url']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_ie.css\" />
<![endif]-->
<!--[if lte IE 8]>
	<style type='text/css'>
		.ipb_table { table-layout: fixed; }
		.ipsLayout_content { width: 99.5%; }
	</style>
<![endif]-->
" . (($this->settings['resize_img_force']) ? ("
	<!-- Forces resized images to an admin-defined size -->
	<style type='text/css'>
		img.bbc_img {
			max-width: {$this->settings['resize_img_force']}px !important;
			max-height: {$this->settings['resize_img_force']}px !important;
		}
	</style>
") : ("
	<style type='text/css'>
		img.bbc_img { max-width: 100% !important; }
	</style>
")) . "<style type=\"text/css\">
	" . Platform::state()->css() . "
</style>";
return $IPBHTML;
}


function __f__44243fcf6f9310aabcc9d0ff67764104($css)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $css['import'] as $data )
	{
		
if( $this->settings['use_minify'] AND ( ! $data['attributes'] OR stripos( $data['attributes'], 'screen' ) !== false ) )
			{
				$this->minify[] = "{$data['content']}";
			}

		$__iteratorCount++;
		$_ips___x_retval .= "
				" . ((!$this->settings['use_minify'] OR ( $data['attributes'] AND stripos( $data['attributes'], 'screen' ) === false )) ? ("
			<link rel=\"stylesheet\" type=\"text/css\" {$data['attributes']} href=\"{$data['content']}?ipbv={$this->registry->output->antiCacheHash}\" />
		") : ("")) . "
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__a1c08c292e02e31cdcf8af1458c60715($css)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $css['inline'] as $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	<style type=\"text/css\" {$data['attributes']}>
		/* Inline CSS */
		{$data['content']}
	</style>
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- includeFeeds --*/
function includeFeeds($documentHeadItems) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['includeFeeds'] ) )
{
$count_5a47a9bac878b1ce44fd37444b46403b = is_array($this->functionData['includeFeeds']) ? count($this->functionData['includeFeeds']) : 0;
$this->functionData['includeFeeds'][$count_5a47a9bac878b1ce44fd37444b46403b]['documentHeadItems'] = $documentHeadItems;
}
$IPBHTML .= "" . ((count($documentHeadItems)) ? ("
	".$this->__f__ce6e41bd4bea56c5eb54ba1c8e07c229($documentHeadItems)."") : ("")) . "";
return $IPBHTML;
}


function __f__8f86a2183bd37de69e185c7c89cea462($documentHeadItems,$type='',$idx='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $documentHeadItems[ $type ] as $idx => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			" . (($type == 'javascript') ? ("
				<script type=\"text/javascript\" src=\"{$data}\" charset=\"<% CHARSET %>\"></script>
			") : ("")) . "
			" . (($type == 'rss') ? ("
				<link rel=\"alternate\" type=\"application/rss+xml\" title=\"{$data['title']}\" href=\"{$data['url']}\" />
			") : ("")) . "
			" . (($type == 'rsd') ? ("
				<link rel=\"EditURI\" type=\"application/rsd+xml\" title=\"{$data['title']}\" href=\"{$data['url']}\" />
			") : ("")) . "
			" . (($type == 'raw') ? ("
				{$data}
			") : ("")) . "
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__ce6e41bd4bea56c5eb54ba1c8e07c229($documentHeadItems)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $documentHeadItems as $type => $idx )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		".$this->__f__8f86a2183bd37de69e185c7c89cea462($documentHeadItems,$type,$idx)."	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- includeJS --*/
function includeJS($jsModules) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['includeJS'] ) )
{
$count_981988490abc1af81c1d491b495e7f22 = is_array($this->functionData['includeJS']) ? count($this->functionData['includeJS']) : 0;
$this->functionData['includeJS'][$count_981988490abc1af81c1d491b495e7f22]['jsModules'] = $jsModules;
}
$IPBHTML .= "" . (($this->settings['use_minify']) ? ("" . (($this->settings['remote_load_js']) ? ("<script type='text/javascript' src='" . (($this->registry->output->isHTTPS) ? ("https") : ("http")) . "://ajax.googleapis.com/ajax/libs/prototype/1.7.1.0/prototype.js'></script>
		<script type='text/javascript' src='" . (($this->registry->output->isHTTPS) ? ("https") : ("http")) . "://ajax.googleapis.com/ajax/libs/scriptaculous/1.8/scriptaculous.js?load=effects,dragdrop,builder'></script>") : ("
		<script type='text/javascript' src='{$this->settings['js_base_url']}min/index.php?ipbv={$this->registry->output->antiCacheHash}&amp;g=js'></script>
	")) . "
	<script type='text/javascript' src='{$this->settings['js_base_url']}min/index.php?ipbv={$this->registry->output->antiCacheHash}&amp;charset={$this->settings['gb_char_set']}&amp;f=" . PUBLIC_DIRECTORY . "/js/ipb.js,cache/lang_cache/{$this->lang->lang_id}/ipb.lang.js," . PUBLIC_DIRECTORY . "/js/ips.hovercard.js," . PUBLIC_DIRECTORY . "/js/ips.quickpm.js" . ((count($jsModules)) ? ("," . PUBLIC_DIRECTORY . "/js/ips." . implode('.js,' . PUBLIC_DIRECTORY . '/js/ips.', array_unique( array_keys( $jsModules ) ) ) . ".js") : ("")) . "' charset='{$this->settings['gb_char_set']}'></script>") : ("" . (($this->settings['remote_load_js']) ? ("<script type='text/javascript' src='" . (($this->registry->output->isHTTPS) ? ("https") : ("http")) . "://ajax.googleapis.com/ajax/libs/prototype/1.7.1.0/prototype.js'></script>") : ("
		<script type='text/javascript' src='{$this->settings['js_base_url']}js/3rd_party/prototype.js'></script>
	")) . "
	<script type='text/javascript' src='{$this->settings['js_base_url']}js/ipb.js?ipbv={$this->registry->output->antiCacheHash}&amp;load=quickpm,hovercard," . implode(',', array_unique( array_keys( $jsModules ) ) ) . "'></script>
	" . (($this->settings['remote_load_js']) ? ("<script type='text/javascript' src='" . (($this->registry->output->isHTTPS) ? ("https") : ("http")) . "://ajax.googleapis.com/ajax/libs/scriptaculous/1.8/scriptaculous.js?load=effects,dragdrop,builder'></script>") : ("
		<script type='text/javascript' src='{$this->settings['js_base_url']}js/3rd_party/scriptaculous/scriptaculous-cache.js'></script>
	")) . "
	<script type=\"text/javascript\" src='{$this->settings['cache_dir']}lang_cache/{$this->lang->lang_id}/ipb.lang.js?nck={$this->settings['noCacheKey']}' charset='{$this->settings['gb_char_set']}'></script>")) . "
" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'liveEditJs' ) ? $this->registry->getClass('output')->getTemplate('global')->liveEditJs() : '' ) . "
" . (($this->registry->output->isLargeTouchDevice()) ? ("
<script type=\"text/javascript\" src='{$this->settings['js_base_url']}js/3rd_party/iscroll/iscroll.js'></script>
") : ("")) . "";
return $IPBHTML;
}

/* -- includeMeta --*/
function includeMeta($metaTags) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['includeMeta'] ) )
{
$count_1fd22f8af4fdcd38569a9975107dd082 = is_array($this->functionData['includeMeta']) ? count($this->functionData['includeMeta']) : 0;
$this->functionData['includeMeta'][$count_1fd22f8af4fdcd38569a9975107dd082]['metaTags'] = $metaTags;
}
$IPBHTML .= "" . ((is_array( $metaTags ) AND count( $metaTags )) ? ("
	".$this->__f__d0d279873cfa5eed6976ba34d2632bba($metaTags)."") : ("")) . "
<meta property=\"og:image\" content=\"{$this->settings['meta_imagesrc']}\"/>";
return $IPBHTML;
}


function __f__bf8fd5ef0f883ec679ff1154ed3a486e($metaTags,$tag='',$id='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $metaTags[ $tag ] as $content )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		" . ((stristr( $tag, 'og:' )) ? ("
			<meta property=\"{$tag}\" content=\"{$content}\" />
		") : ("
			<meta name=\"{$tag}\" content=\"{$content}\" />
		")) . "
		" . (($tag == 'identifier-url') ? ("
			<meta property=\"og:url\" content=\"{$content}\" />
		") : ("")) . "
		" . (($tag == 'description') ? ("
			<meta property=\"og:description\" content=\"{$content}\" />
		") : ("")) . "
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__d0d279873cfa5eed6976ba34d2632bba($metaTags)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $metaTags as $tag => $id )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		".$this->__f__bf8fd5ef0f883ec679ff1154ed3a486e($metaTags,$tag,$id)."	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- includeRTL --*/
function includeRTL() {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['includeRTL'] ) )
{
$count_610383b7ae20778f85eda0b70b21c694 = is_array($this->functionData['includeRTL']) ? count($this->functionData['includeRTL']) : 0;
}

$this->isRtlLang	= false;
$IPBHTML .= "".$this->__f__833e61c19b2c3d2bad0c17b25832c815()."" . (($this->isRtlLang AND is_file( DOC_IPS_ROOT_PATH . '/' . PUBLIC_DIRECTORY . '/style_css/' . $this->registry->output->skin['_csscacheid'] . '/ipb_rtl.css' )) ? ("
	<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_rtl.css\" />
	<script type='text/javascript'>
		var rtlFull	= \"{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_rtl.css\";
		var isRTL	= true;
	</script>
") : ("" . (($this->isRtlLang AND is_file( DOC_IPS_ROOT_PATH . '/' . PUBLIC_DIRECTORY . '/style_css/ipb_rtl.css' )) ? ("
		<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"{$this->settings['public_dir']}style_css/ipb_rtl.css\" />
		<script type='text/javascript'>
			var rtlFull	= \"{$this->settings['public_dir']}style_css/ipb_rtl.css\";
			var isRTL	= true;
		</script>
	") : ("")) . "")) . "
" . (($this->isRtlLang AND is_file( DOC_IPS_ROOT_PATH . '/' . PUBLIC_DIRECTORY . '/style_css/' . $this->registry->output->skin['_csscacheid'] . '/ipb_rtl_ie.css' )) ? ("
	<!--[if lte IE 7]>
	<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_rtl_ie.css\" />
	<![endif]-->
	<script type='text/javascript'>
		var rtlIe	= \"{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_rtl_ie.css\";
	</script>
") : ("" . (($this->isRtlLang AND is_file( DOC_IPS_ROOT_PATH . '/' . PUBLIC_DIRECTORY . '/style_css/ipb_rtl_ie.css' )) ? ("
		<!--[if lte IE 7]>
		<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"{$this->settings['public_dir']}style_css/ipb_rtl_ie.css\" />
		<![endif]-->
		<script type='text/javascript'>
			var rtlIe	= \"{$this->settings['public_dir']}style_css/ipb_rtl_ie.css\";
		</script>
	") : ("")) . "")) . "
" . (($this->settings['member_topic_avatar_max']) ? ("<!-- Forces topic photo to show without thumb -->
	<style type='text/css'>
		.ipsUserPhoto_variable { max-width: " . intval($this->settings['member_topic_avatar_max']) . "px !important; }
		" . (($this->isRtlLang) ? ("
			.post_body { margin-right: " . ((intval($this->settings['member_topic_avatar_max']  + 25 ) < 185 ) ? 185 : intval($this->settings['member_topic_avatar_max']  + 25 ) ) . "px !important; }
		") : ("
			.post_body { margin-left: " . ((intval($this->settings['member_topic_avatar_max']  + 25 ) < 185 ) ? 185 : intval($this->settings['member_topic_avatar_max']  + 25 ) ) . "px !important; }
		")) . "
	</style>") : ("")) . "";
return $IPBHTML;
}


function __f__833e61c19b2c3d2bad0c17b25832c815()
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $this->cache->getCache('lang_data') as $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	" . ((intval($this->member->language_id) == intval($data['lang_id'])) ? ("" . (($data['lang_isrtl']) ? ("" . (($this->isRtlLang = true) ? ("") : ("")) . "") : ("")) . "") : ("")) . "

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- includeVars --*/
function includeVars($header_items=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['includeVars'] ) )
{
$count_b317eacff65c902ff2005fac295cc638 = is_array($this->functionData['includeVars']) ? count($this->functionData['includeVars']) : 0;
$this->functionData['includeVars'][$count_b317eacff65c902ff2005fac295cc638]['header_items'] = $header_items;
}
$IPBHTML .= "<script type='text/javascript'>
	//<![CDATA[
		/* ---- URLs ---- */
		ipb.vars['base_url'] 			= '" . (($this->registry->output->isHTTPS) ? ("" . str_replace( 'http://', 'https://', "{$this->settings['js_base']}" ) . "") : ("{$this->settings['js_base']}")) . "';
		ipb.vars['board_url']			= '{$this->settings['board_url']}';
		ipb.vars['img_url'] 			= \"{$this->settings['img_url']}\";
		ipb.vars['loading_img'] 		= '{$this->settings['img_url']}/loading.gif';
		ipb.vars['active_app']			= '{$this->registry->getCurrentApplication()}';
		ipb.vars['upload_url']			= '{$this->settings['upload_url']}';
		/* ---- Member ---- */
		ipb.vars['member_id']			= parseInt( {$this->memberData['member_id']} );
		ipb.vars['is_supmod']			= parseInt( " . intval($this->memberData['g_is_supmod']) . " );
		ipb.vars['is_admin']			= parseInt( {$this->memberData['g_access_cp']} );
		ipb.vars['secure_hash'] 		= '{$this->member->form_hash}';
		ipb.vars['session_id']			= '{$this->member->session_id}';
		ipb.vars['twitter_id']			= " . intval($this->memberData['twitter_id']) . ";
		ipb.vars['fb_uid']				= " . (($this->memberData['fb_token']) ? ("" . intval($this->memberData['fb_uid']) . "") : ("0")) . ";
		ipb.vars['auto_dst']			= parseInt( {$this->memberData['members_auto_dst']} );
		ipb.vars['dst_in_use']			= parseInt( {$this->memberData['dst_in_use']} );
		ipb.vars['is_touch']			= " . (($this->registry->output->isLargeTouchDevice()) ? ("'large';") : ("" . (($this->registry->output->isSmallTouchDevice()) ? ("'small';") : ("false;")) . "")) . "
		ipb.vars['member_group']		= " . json_encode( array( 'g_mem_info' => $this->memberData['g_mem_info'] ) ) . "
		/* ---- cookies ----- */
		ipb.vars['cookie_id'] 			= '{$this->settings['cookie_id']}';
		ipb.vars['cookie_domain'] 		= '{$this->settings['cookie_domain']}';
		ipb.vars['cookie_path']			= '{$this->settings['cookie_path']}';
		/* ---- Rate imgs ---- */
		ipb.vars['rate_img_on']			= '{$this->settings['img_url']}/star.png';
		ipb.vars['rate_img_off']		= '{$this->settings['img_url']}/star_off.png';
		ipb.vars['rate_img_rated']		= '{$this->settings['img_url']}/star_rated.png';
		/* ---- Uploads ---- */
		ipb.vars['swfupload_swf']		= '" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "js/3rd_party/swfupload/swfupload.swf", "public_dir",'' ), "", "" ) . "';
		ipb.vars['swfupload_enabled']	= " . (($this->settings['uploadFormType']) ? ("true") : ("false")) . ";
		ipb.vars['use_swf_upload']		= ( '{$this->memberData['member_uploader']}' == 'flash' ) ? true : false;
		ipb.vars['swfupload_debug']		= false;
		/* ---- other ---- */
		ipb.vars['highlight_color']     = \"#ade57a\";
		ipb.vars['charset']				= \"{$this->settings['gb_char_set']}\";
		ipb.vars['time_offset']			= \"{$this->settings['time_offset']}\";
		ipb.vars['hour_format']			= \"" . ((strpos( $this->settings['clock_long'], '%p' ) OR strpos( $this->settings['clock_long'], '%P' )) ? ("12") : ("24")) . "\";
		ipb.vars['seo_enabled']			= " . intval($this->settings['use_friendly_urls']) . ";
		" . (($this->settings['use_friendly_urls']) ? ("
		ipb.vars['seo_params']			= " . json_encode($this->registry->getClass('output')->seoTemplates['__data__']) . ";
		") : ("")) . "
		/* Templates/Language */
		ipb.templates['inlineMsg']		= \"{$header_items['inlineMsg']}\";
		ipb.templates['ajax_loading'] 	= \"<div id='ajax_loading'><img src='{$this->settings['img_url']}/ajax_loading.gif' alt='\" + ipb.lang['loading'] + \"' /></div>\";
		ipb.templates['close_popup']	= \"<img src='{$this->settings['img_url']}/close_popup.png' alt='x' />\";
		ipb.templates['rss_shell']		= new Template(\"<ul id='rss_menu' class='ipbmenu_content'>#{items}</ul>\");
		ipb.templates['rss_item']		= new Template(\"<li><a href='#{url}' title='#{title}'>#{title}</a></li>\");
		" . (($this->memberData['member_id']) ? ("
			ipb.templates['m_add_friend']	= new Template(\"<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=add&amp;member_id=#{id}", "public",'' ), "", "" ) . "' title='{$this->lang->words['add_friend']}' class='ipsButton_secondary'>" . $this->registry->getClass('output')->getReplacement("add_friend") . "</a>\");
			ipb.templates['m_rem_friend']	= new Template(\"<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=remove&amp;member_id=#{id}", "public",'' ), "", "" ) . "' title='{$this->lang->words['remove_friend']}' class='ipsButton_secondary'>" . $this->registry->getClass('output')->getReplacement("remove_friend") . "</a>\");
		") : ("")) . "
		ipb.templates['autocomplete_wrap'] = new Template(\"<ul id='#{id}' class='ipb_autocomplete' style='width: 250px;'></ul>\");
		ipb.templates['autocomplete_item'] = new Template(\"<li id='#{id}' data-url='#{url}'><img src='#{img}' alt='' class='ipsUserPhoto ipsUserPhoto_mini' />&nbsp;&nbsp;#{itemvalue}</li>\");
		ipb.templates['page_jump']		= new Template(\"<div id='#{id}_wrap' class='ipbmenu_content'><h3 class='bar'>{$this->lang->words['global_page_jump']}</h3><p class='ipsPad'><input type='text' class='input_text' id='#{id}_input' size='8' /> <input type='submit' value='{$this->lang->words['jmp_go']}' class='input_submit add_folder' id='#{id}_submit' /></p></div>\");
		ipb.templates['global_notify'] 	= new Template(\"<div class='popupWrapper'><div class='popupInner'><div class='ipsPad'>#{message} #{close}</div></div></div>\");
		" . ((! empty( $header_items['notifications'] )) ? ("
			ipb.vars['notificationData']          = {$header_items['notifications']};
			ipb.templates['notificationTemplate'] = new Template( \"<div><h3>#{notify_title}</h3><div class='fixed_inner ipsPad row1'><h4 class='ipsType_sectiontitle'>#{member_PhotoTag} #{title} <span class='ipsType_smaller'>{$this->lang->words['by_ucfirst']} #{member_HoverCard} - #{date_parsed}</span><p class='ipsType_smaller right ipsPad_half'><a href='#{url}'>" . sprintf( $this->lang->words['global_pm_read_short'], '#{type}' ) . "</a></p></h4><p class='ipsPad_half'>#{content}</p></div></div>\");
		") : ("")) . "
		
		ipb.templates['header_menu'] 	= new Template(\"<div id='#{id}' class='ipsHeaderMenu boxShadow'></div>\");
		" . (($this->memberData['members_auto_dst'] == 1 AND $this->settings['time_dst_auto_correction']) ? ("
			ipb.global.checkDST();
		") : ("")) . "
		Loader.boot();
	//]]>
	</script>";
return $IPBHTML;
}

/* -- inlineLogin --*/
function inlineLogin() {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['inlineLogin'] ) )
{
$count_faf70e926f65545cd6b89850e87a7760 = is_array($this->functionData['inlineLogin']) ? count($this->functionData['inlineLogin']) : 0;
}

$uses_name		= false;
	$uses_email		= false;
	$_redirect		= '';
	$login_methods  = array();
	
	foreach( $this->cache->getCache('login_methods') as $method )
	{
		if( $method['login_user_id'] == 'username' or $method['login_user_id'] == 'either' )
		{
			$uses_name	= true;
		}
		
		if( $method['login_user_id'] == 'email' or $method['login_user_id'] == 'either' )
		{
			$uses_email	= true;
		}
		
		if( $method['login_login_url'] )
		{
			$_redirect	= $method['login_login_url'];
		}
		
		$login_methods[] = $method['login_folder_name'];
	}
	if( $uses_name AND $uses_email )
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_name_and_email'];
	}
	else if( $uses_email )
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_useremail'];
	}
	else
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_username'];
	}
$IPBHTML .= "" . ((!$_redirect) ? ("<div id='inline_login_form' class='sb_login' style='display: none'>
		<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;do=process", "public",'' ), "", "" ) . "\" method=\"post\" id='login'>
			<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
			<input type=\"hidden\" name=\"referer\" value=\"{$this->settings['this_url']}\" />
			<h3>{$this->lang->words['log_in']}</h3>

			
            <div class='sb_login_row'>

                <div class='sb_login_col'>
                    
            		<strong><label for='ips_username'>{$this->lang->words['enter_name']}</label></strong>
                    <div class='ipsField_content'>
                    	<input id='ips_username' type='text' class='input_text sb_login_input sb_luser' name='ips_username' placeholder=\"{$this->lang->words['enter_name']}\" size='30' tabindex='1' />
                    </div>
                </div>
                
                <div class='sb_login_col'>
                    <span class='right desc lighter blend_links'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=lostpass", "public",'' ), "", "" ) . "' title='{$this->lang->words['retrieve_pw']}'>{$this->lang->words['login_forgotten_pass']}</a></span>
                    <strong><label for='ips_password'>{$this->lang->words['enter_pass']}</label></strong>
                    <div class='ipsField_content'>
                        <input id='ips_password' type='password' class='input_text sb_login_input sb_lpassword' name='ips_password' placeholder=\"{$this->lang->words['enter_pass']}\" size='30' tabindex='2' /><br />
                    </div>
                </div>
        
            </div>
            
            <div class='clearfix'>
        
                <div class='sb_login_col'>
                    <input type='checkbox' id='inline_remember' checked='checked' name='rememberMe' value='1' class='input_check left' />
                    <div style='padding-left: 20px;'>
                        <label for='inline_remember'>
                            <strong>{$this->lang->words['rememberme']}</strong>
                            <span class='desc lighter' style='display: block; padding-top: 5px;'>{$this->lang->words['notrecommended']}</span>
                        </label>
                    </div>
                </div>
    
                " . ((!$this->settings['disable_anonymous']) ? ("
                <div class='sb_login_col'>
                    <input type='checkbox' id='inline_invisible' name='anonymous' value='1' class='input_check left' />
                    <div style='padding-left: 20px;'>
                        <label for='inline_invisible'>
                            <strong>{$this->lang->words['form_invisible']}</strong>
                            <span class='desc lighter' style='display: block; padding-top: 5px;'>{$this->lang->words['anon_name']}</span>
                        </label>
                    </div>
                </div>
                ") : ("")) . "
    
            </div>
            
            <div class='ipsForm_submit ipsForm_center clear'>
                <input type='submit' class='input_submit' value='{$this->lang->words['log_in']}' />
            </div>

		</form>
	</div>") : ("
	<script type='text/javascript'>
		ipb.global.loginRedirect = \"{$_redirect}\";
	</script>
")) . "";
return $IPBHTML;
}

/* -- liveEditJs --*/
function liveEditJs() {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['liveEditJs'] ) )
{
$count_f1357c17d223db33babe9a3f077ae4a8 = is_array($this->functionData['liveEditJs']) ? count($this->functionData['liveEditJs']) : 0;
}
$IPBHTML .= "" . ((defined( 'IPS_LIVE_EDIT') && IPS_LIVE_EDIT) ? ("<script type='text/javascript'>
		skingen_imgs = \"{$this->settings['public_dir']}style_extra/skin_creator\";
		" . ((! empty( $this->registry->output->skinGenSession['skin_gen_data'] )) ? ("
		var IPS_SKIN_GEN_SAVED_DATA = " . json_encode( $this->registry->output->skinGenSession['skin_gen_data'] ) . ";
		") : ("")) . "
	</script>
	<link rel=\"stylesheet\" href=\"{$this->settings['public_dir']}style_css/skin_creator.css\" type=\"text/css\"  media=\"screen\" />
	<link rel=\"stylesheet\" href=\"{$this->settings['js_base_url']}js/3rd_party/prototype/colorpicker/css/prototype_colorpicker.css\" type=\"text/css\"  media=\"screen\" />
	<script type=\"text/javascript\" src=\"{$this->settings['js_base_url']}js/3rd_party/prototype/colorpicker/js/prototype_colorpicker.js\"></script>
	<script type=\"text/javascript\" src=\"{$this->settings['cache_dir']}skinGenJsonCache.js\"></script>
	<script type=\"text/javascript\" src=\"{$this->settings['js_base_url']}js/ips.skin_gen.js\"></script>") : ("")) . "";
return $IPBHTML;
}

/* -- metaEditor --*/
function metaEditor($tags, $url) {
$IPBHTML = "";
$IPBHTML .= "<div class='ipsFloatingAction left' id='seoMetaTagEditor'>
<div class='ipsBox ipsPad'>
	
	<h2 class='ipsType_subtitle left'>{$this->lang->words['meta_editor_title']}</h2>
	
	<span class='right'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&module=global&section=meta&do=end&url=" . urlencode($url) . "", "public",'' ), "", "" ) . "'><img src=\"{$this->settings['img_url']}/close_popup.png\" alt=\"X\" /></a></span>
	
	<br class='clear' />
	
	<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&module=global&section=meta&do=save", "public",'' ), "", "" ) . "' method='post'>
		<input type='hidden' name='url' value='{$url}' />
		<table class='ipb_table'>
			<tr>
				<th>{$this->lang->words['meta_tag_title']}<br /><span class='desc ipsType_smallest'>{$this->lang->words['meta_tag_title_desc']}</span></th>
				<th>{$this->lang->words['meta_tag_content']}</th>
			</tr>
		</table>
		<div style='max-height: 150px' class='fixed_inner'>
		<table class='ipb_table'>
			".$this->__f__8ecce45b6914e4af2f78ffb74eb6e01f($tags,$url)."		</table>
		</div>
		<table class='ipb_table'>
			<tr>
				<td><input name='meta-tags-title[]'  class='input_text' /></td>
				<td><input name='meta-tags-content[]' class='input_text' /></td>
			</tr>
			<tr>
				<td colspan='2'>
					<input type='submit' class='ipsButton right clickable' value='{$this->lang->words['meta_save']}' />
				</td>
			</tr>
		</table>
	</form>
	
</div>
</div>";
return $IPBHTML;
}


function __f__8ecce45b6914e4af2f78ffb74eb6e01f($tags, $url)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $tags as $k => $v )
	{
		
$_metaTagId++;

		$__iteratorCount++;
		$_ips___x_retval .= "
				" . (($k != 'identifier-url') ? ("
					<tr>
						<td><input name='meta-tags-title[]' value='{$k}' class='input_text' /></td>
						<td><input name='meta-tags-content[]' value='{$v}' class='input_text' /></td>
					</tr>
									") : ("")) . "
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- nextPreviousTemplate --*/
function nextPreviousTemplate($data) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['nextPreviousTemplate'] ) )
{
$count_d2fc52da2bcea64efa6c69d0b4c2c8f0 = is_array($this->functionData['nextPreviousTemplate']) ? count($this->functionData['nextPreviousTemplate']) : 0;
$this->functionData['nextPreviousTemplate'][$count_d2fc52da2bcea64efa6c69d0b4c2c8f0]['data'] = $data;
}
$IPBHTML .= "" . (($data['totalItems'] > $data['itemsPerPage']) ? ("<div class='left pagination clear'>
		<ul class='ipsList_inline back forward'>
			" . (($data['_hasPrevious']) ? ("<li class='prev'>
					" . (($data['ajaxLoad']) ? ("
						<a href=\"#\" onclick=\"return ipb.global.ajaxPagination( '{$data['ajaxLoad']}', '" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;secure_key={$this->member->form_hash}&amp;{$data['startValueKey']}=" . intval( $data['currentStartValue'] - $data['itemsPerPage'] ) . "", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}' );\" title=\"{$this->lang->words['tpl_prev']}\" rel='prev'>{$this->lang->words['_larr']} {$this->lang->words['prev']}</a>
					") : ("
						<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$data['startValueKey']}=" . intval( $data['currentStartValue'] - $data['itemsPerPage'] ) . "", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"{$this->lang->words['tpl_prev']}\" rel='prev'>{$this->lang->words['_larr']} {$this->lang->words['prev']}</a>
					")) . "
				</li>") : ("")) . "
			" . (($data['_hasNext']) ? ("<li class='next'>
					" . (($data['ajaxLoad']) ? ("
						<a href=\"#\" onclick=\"return ipb.global.ajaxPagination( '{$data['ajaxLoad']}', '" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;secure_key={$this->member->form_hash}&amp;{$data['startValueKey']}=" . intval( $data['currentStartValue'] + $data['itemsPerPage'] ) . "", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}' );\" title=\"{$this->lang->words['tpl_next']}\" rel='next'>{$this->lang->words['next']} {$this->lang->words['_rarr']}</a>
					") : ("
						<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$data['startValueKey']}=" . intval( $data['currentStartValue'] + $data['itemsPerPage'] ) . "", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"{$this->lang->words['tpl_next']}\" rel='next'>{$this->lang->words['next']} {$this->lang->words['_rarr']}</a>
					")) . "
				</li>") : ("")) . "
		</ul>
	</div>") : ("")) . "";
return $IPBHTML;
}

/* -- paginationTemplate --*/
function paginationTemplate($work, $data) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['paginationTemplate'] ) )
{
$count_975fb03c4ea0a8db7f00e7717ceb8802 = is_array($this->functionData['paginationTemplate']) ? count($this->functionData['paginationTemplate']) : 0;
$this->functionData['paginationTemplate'][$count_975fb03c4ea0a8db7f00e7717ceb8802]['work'] = $work;
$this->functionData['paginationTemplate'][$count_975fb03c4ea0a8db7f00e7717ceb8802]['data'] = $data;
}
$IPBHTML .= "" . (($work['pages'] > 1) ? ("<div class='pagination clearfix left " . ((!$data['showNumbers']) ? ("no_numbers") : ("")) . "'>
		<ul class='ipsList_inline back left'>
			" . ((1 < ($work['current_page'] - $data['dotsSkip'])) ? ("<li class='first'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$this->registry->output->generatePaginationUrlBit(0, $data)}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}' title='" . (($data['realTitle']) ? ("{$data['realTitle']} - ") : ("")) . "{$this->lang->words['tpl_gotofirst']}' rel='start'>{$this->lang->words['_laquo']} <!--{$this->lang->words['ps_first']}--></a></li>") : ("")) . "
			" . (($work['current_page'] > 1) ? ("<li class='prev'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$this->registry->output->generatePaginationUrlBit( intval( $data['currentStartValue'] - $data['itemsPerPage'] ), $data )}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"" . (($data['realTitle']) ? ("{$data['realTitle']} - ") : ("")) . "{$this->lang->words['tpl_prev']}\" rel='prev'>{$this->lang->words['prev']}</a></li>") : ("")) . "
		</ul>
		<ul class='ipsList_inline left pages'>
			" . (($this->request['module'] != 'ajax' AND !$data['noDropdown']) ? ("<li class='pagejump clickable pj{$data['uniqid']}'>
					<a href='#'>" . sprintf( $this->lang->words['tpl_pages'], $work['current_page'], $work['pages'] ) . " <!--" . $this->registry->getClass('output')->getReplacement("dropdown") . "--></a>
					<script type='text/javascript'>
						ipb.global.registerPageJump( '{$data['uniqid']}', { url: \"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "" . (($data['isFriendly']) ? ("/") : ("")) . "\", stKey: '{$data['startValueKey']}', perPage: {$data['itemsPerPage']}, totalPages: {$work['pages']}, anchor: '{$data['anchor']}' } );
					</script>
				</li>") : ("
				<li class='pagejump'>
					" . sprintf( $this->lang->words['tpl_pages'], $work['current_page'], $work['pages'] ) . "
				</li>
			")) . "
			" . ((is_array( $work['_pageNumbers'] ) && count( $work['_pageNumbers'] )) ? ("
				".$this->__f__54a5e31b90baea23fa3cc0fc61351c34($work,$data)."			") : ("")) . "
		</ul>
		<ul class='ipsList_inline forward left'>
			" . (($work['current_page'] < $work['pages']) ? ("<li class='next'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$this->registry->output->generatePaginationUrlBit( intval( $data['currentStartValue'] + $data['itemsPerPage'] ), $data )}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"" . (($data['realTitle']) ? ("{$data['realTitle']} - ") : ("")) . "{$this->lang->words['tpl_next']}\" rel='next'>{$this->lang->words['next']}</a></li>") : ("")) . "
			" . ((!empty( $work['_showEndDots'] )) ? ("<li class='last'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$this->registry->output->generatePaginationUrlBit( intval( ( $work['pages'] - 1 ) * $data['itemsPerPage'] ), $data )}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"" . (($data['realTitle']) ? ("{$data['realTitle']} - ") : ("")) . "{$this->lang->words['tpl_gotolast']}\" rel='last'>{$this->lang->words['_raquo']}</a></li>") : ("")) . "
		</ul>
	</div>") : ("" . ((!$data['disableSinglePage']) ? ("
		<p class='pagination no_pages left ipsType_small'><span>{$this->lang->words['page_1_of_1']}</span></p>
	") : ("")) . "")) . "";
return $IPBHTML;
}


function __f__54a5e31b90baea23fa3cc0fc61351c34($work, $data)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $work['_pageNumbers'] as $_real => $_page )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					" . (($_real == $data['currentStartValue']) ? ("
						<li class='page active'>{$_page}</li>
					") : ("<li class='page'>
							" . (($_real >= 1) ? ("<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$this->registry->output->generatePaginationUrlBit( $_real, $data )}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"" . (($data['realTitle']) ? ("" . sprintf( $this->lang->words['page_title_text'],$data['realTitle'],$_page) . "") : ("$_page")) . "\">{$_page}</a>") : ("<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"" . (($data['realTitle']) ? ("" . sprintf( $this->lang->words['page_title_text'],$data['realTitle'],$_page) . "") : ("$_page")) . "\">{$_page}</a>")) . "
						</li>")) . "
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- quickSearch --*/
function quickSearch() {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['quickSearch'] ) )
{
$count_93563fd3e868763710783516eaad608b = is_array($this->functionData['quickSearch']) ? count($this->functionData['quickSearch']) : 0;
}
$IPBHTML .= "<div id='search' class='right'>
	<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=search&amp;fromMainBar=1", "preferHttps",'' ), "", "" ) . "\" method=\"post\" id='search-box' >
		<fieldset>
			<label for='main_search' class='hide'>{$this->lang->words['sj_search']}</label>
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;search_in=" . ((isset($this->request['search_app']) AND $this->request['search_app']) ? ("{$this->request['search_app']}") : ("{$this->registry->getCurrentApplication()}")) . "", "public",'' ), "", "" ) . "' title='{$this->lang->words['advanced_search']}' accesskey='4' rel=\"search\" id='adv_search' class='right'>{$this->lang->words['advanced']}</a>
			<span id='search_wrap' class='right'>
				<input type='text' id='main_search' name='search_term' class='inactive' size='17' tabindex='100' />
				<span class='choice ipbmenu clickable' id='search_options' style='display: none'></span>
				<ul id='search_options_menucontent' class='ipbmenu_content ipsPad' style='display: none'>
					<li class='title'><strong>{$this->lang->words['context_search_title']}</strong></li>
					" . (($this->request['showtopic'] or ( isset( $this->request['search_app'] ) and substr( $_POST['search_app'], 0, 13 ) == 'forums:topic:' )) ? ("<li class='special'>
							<label for='s_topic' title='{$this->lang->words['context_search_topic']}'>
								" . (($this->request['showtopic']) ? ("<input type='radio' name='search_app' value=\"forums:topic:{$this->request['showtopic']}\" class='input_radio' id='s_topic' checked=\"checked\" />") : ("<input type='radio' name='search_app' value=\"forums:topic:" . substr( $_POST['search_app'], 13 ) . "\" class='input_radio' id='s_topic' checked=\"checked\" />
								")) . "<strong>{$this->lang->words['context_search_topic']}</strong>
							</label>
						</li>") : ("")) . "
					" . ((( $this->request['showforum'] AND $this->registry->getClass('class_forums')->forum_by_id[ $this->request['showforum'] ]['sub_can_post'] ) or ( isset( $this->request['search_app'] ) and substr( $_POST['search_app'], 0, 13 ) == 'forums:forum:' )) ? ("<li class='special'>
							<label for='s_forum' title='{$this->lang->words['context_search_forum']}'>
								" . (($this->request['showforum']) ? ("<input type='radio' name='search_app' value=\"forums:forum:{$this->request['f']}\" class='input_radio' id='s_forum' " . ((!$this->request['showtopic']) ? ("checked=\"checked\"") : ("")) . " />") : ("<input type='radio' name='search_app' value=\"forums:forum:" . substr( $_POST['search_app'], 13 ) . "\" class='input_radio' id='s_forum' checked=\"checked\" />
								")) . "<strong>{$this->lang->words['context_search_forum']}</strong>
							</label>
						</li>") : ("")) . "
					" . (($this->request['app'] == 'core' and $this->request['module'] == 'search') ? ("
						" . ( method_exists( $this->registry->getClass('output')->getTemplate(''.$this->request['search_app'].'_global'), 'contextSearch' ) ? $this->registry->getClass('output')->getTemplate(''.$this->request['search_app'].'_global')->contextSearch() : '' ) . "
					") : ("" . ((!in_array( $this->registry->getCurrentApplication(), array( 'forums', 'members', 'core' ) )) ? ("" . ((method_exists( $this->registry->output->getTemplate( $this->registry->getCurrentApplication() . '_global' ), 'contextSearch' )) ? ("
								" . ( method_exists( $this->registry->getClass('output')->getTemplate(''.$this->registry->getCurrentApplication().'_global'), 'contextSearch' ) ? $this->registry->getClass('output')->getTemplate(''.$this->registry->getCurrentApplication().'_global')->contextSearch() : '' ) . "
							") : ("")) . "") : ("")) . "")) . "
					" . ((IPSLib::appIsSearchable( 'forums', 'search' )) ? ("<li class='app'><label for='s_forums' title='" . IPSLib::getAppTitle('forums') . "'><input type='radio' name='search_app' class='input_radio' id='s_forums' value=\"forums\" " . ((( ( isset($this->request['search_app']) AND $this->request['search_app'] == 'forums' ) ) || ( !IPSLib::appIsSearchable( $this->registry->getCurrentApplication(), 'search' ) ) || ( ( $this->registry->getCurrentApplication() == 'forums' ) && ! $this->request['search_app'] ) && !$this->request['showtopic'] && !$this->request['showforum']) ? ("" . ((substr( $_POST['search_app'], 0, 13 ) != 'forums:topic:' and substr( $_POST['search_app'], 0, 13 ) != 'forums:forum:') ? ("checked=\"checked\"") : ("")) . "") : ("")) . " />" . IPSLib::getAppTitle( 'forums' ) . "</label></li>") : ("")) . "
					" . ((IPSLib::appIsSearchable( 'members', 'search' )) ? ("<li class='app'><label for='s_members' title='" . IPSLib::getAppTitle('members') . "'><input type='radio' name='search_app' class='input_radio' id='s_members' value=\"members\" " . ((( ( isset($this->request['search_app']) AND $this->request['search_app'] == 'members' ) ) || ( ( $this->registry->getCurrentApplication() == 'members' ) && ! $this->request['search_app'] ) && !$this->request['showtopic'] && !$this->request['showforum']) ? ("checked=\"checked\"") : ("")) . " />" . IPSLib::getAppTitle( 'members' ) . "</label></li>") : ("")) . "
					" . ((IPSLib::appIsSearchable( 'core', 'search' )) ? ("<li class='app'><label for='s_core' title='" . IPSLib::getAppTitle('core') . "'><input type='radio' name='search_app' class='input_radio' id='s_core' value=\"core\" " . ((( ( isset($this->request['search_app']) AND $this->request['search_app'] == 'core' ) ) || ( ( $this->registry->getCurrentApplication() == 'core' ) && ! $this->request['search_app'] ) && !$this->request['showtopic'] && !$this->request['showforum']) ? ("checked=\"checked\"") : ("")) . " />" . IPSLib::getAppTitle( 'core' ) . "</label></li>") : ("")) . "
					".$this->__f__1cf447759062e930235fea42ea56ec3c()."				</ul>
				<input type='submit' class='submit_input clickable' value='{$this->lang->words['sj_search']}' />
			</span>
			
		</fieldset>
	</form>
</div>";
return $IPBHTML;
}


function __f__1cf447759062e930235fea42ea56ec3c()
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $this->registry->getApplications() as $app => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
						" . ((IPSLib::appIsSearchable( $app, 'search' ) AND !in_array( $app, array( 'forums', 'members', 'core' ) )) ? ("<li class='app'>
								<label for='s_{$app}' title='" . IPSLib::getAppTitle( $app ) . "'>
									" . (($this->request['app'] == 'core' and $this->request['module'] == 'search') ? ("<input type='radio' name='search_app' class='input_radio' id='s_{$app}' value=\"{$app}\" " . ((( ( isset($this->request['search_app']) AND $this->request['search_app'] == $app ) || ( !IPSLib::appIsSearchable( $this->registry->getCurrentApplication(), 'search' ) AND $app == 'core' ) || ( ( $this->registry->getCurrentApplication() == $app ) && ( !isset($this->request['search_app']) OR !$this->request['search_app'] ) ) ) && !$this->request['showtopic'] && !$this->request['showforum'] && ( !method_exists( $this->registry->output->getTemplate( $this->request['search_app'] . '_global' ), 'contextSearch' ) or ipsRegistry::$appSearch )) ? ("checked=\"checked\"") : ("")) . " />") : ("<input type='radio' name='search_app' class='input_radio' id='s_{$app}' value=\"{$app}\" " . ((( ( isset($this->request['search_app']) AND $this->request['search_app'] == $app ) || ( !IPSLib::appIsSearchable( $this->registry->getCurrentApplication(), 'search' ) AND $app == 'core' ) || ( ( $this->registry->getCurrentApplication() == $app ) && ( !isset($this->request['search_app']) OR !$this->request['search_app'] ) ) ) && !$this->request['showtopic'] && !$this->request['showforum'] && ( !method_exists( $this->registry->output->getTemplate( $this->registry->getCurrentApplication() . '_global' ), 'contextSearch' ) or ipsRegistry::$appSearch )) ? ("checked=\"checked\"") : ("")) . " />")) . "" . IPSLib::getAppTitle( $app ) . "
								</label>
							</li>") : ("")) . "
					
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- shareLinks --*/
function shareLinks($links, $title='', $url='', $cssClass='topic_share left') {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['shareLinks'] ) )
{
$count_31aff3985a33c7d8ab4ef7ae97a75368 = is_array($this->functionData['shareLinks']) ? count($this->functionData['shareLinks']) : 0;
$this->functionData['shareLinks'][$count_31aff3985a33c7d8ab4ef7ae97a75368]['links'] = $links;
$this->functionData['shareLinks'][$count_31aff3985a33c7d8ab4ef7ae97a75368]['title'] = $title;
$this->functionData['shareLinks'][$count_31aff3985a33c7d8ab4ef7ae97a75368]['url'] = $url;
$this->functionData['shareLinks'][$count_31aff3985a33c7d8ab4ef7ae97a75368]['cssClass'] = $cssClass;
}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("sharelinks", "0" ) . "
" . ((is_array( $links )) ? ("
	<ul class='{$cssClass} shareButtons ipsList_inline'>
	".$this->__f__24be22e786af87aa921c929aebf5dfdb($links,$title,$url,$cssClass)."	</ul>
	<script type=\"text/javascript\">
		ipb.sharelinks.url   = \"" . IPSText::base64_decode_urlSafe($url) . "\";
		ipb.sharelinks.title = \"" . IPSText::base64_decode_urlSafe( IPSText::htmlspecialchars( $title ) ) . "\";
		ipb.sharelinks.bname = \"" . trim(addslashes($this->settings['board_name'])) . "\";
	</script>
") : ("")) . "";
return $IPBHTML;
}


function __f__24be22e786af87aa921c929aebf5dfdb($links, $title='', $url='', $cssClass='topic_share left')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $links as $id => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		" . (($data['share_enabled'] and ( $data['share_groups'] == '*' or IPSMember::isInGroup( $this->memberData, explode( ',', $data['share_groups'] ) ) )) ? ("" . (($data['customOutput'] and is_array( $data['customOutput'] )) ? ("
				" . $this->registry->output->getTemplate($data['customOutput'][0])->$data['customOutput'][1]( $data['_rawUrl'], $title, $data['customOutput'][2] ) . "
			") : ("<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "sharelink={$data['share_key']};{$data['_url']};{$title}", "public",'' ), "", "" ) . "" . (($data['overrideApp']) ? ("&amp;overrideApp={$data['overrideApp']}") : ("")) . "\" rel=\"nofollow\" target=\"_blank\" title=\"" . ((isset( $this->lang->words['gbl_sharelink_with_' . $data['share_key'] ] )) ? ("{$this->lang->words['gbl_sharelink_with_' . $data['share_key'] ]}") : ("{$this->lang->words['gbl_sharelink_with']} {$data['share_title']}")) . "\" class='_slink' id='slink_{$data['share_key']}'><img src=\"{$this->settings['public_cdn_url']}style_extra/sharelinks/{$data['share_key']}.png\" /></a></li>")) . "") : ("")) . "
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- signature_separator --*/
function signature_separator($sig="", $author_id=0, $can_ignore=true) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['signature_separator'] ) )
{
$count_5e833bda2b829d40d224046cdfa38341 = is_array($this->functionData['signature_separator']) ? count($this->functionData['signature_separator']) : 0;
$this->functionData['signature_separator'][$count_5e833bda2b829d40d224046cdfa38341]['sig'] = $sig;
$this->functionData['signature_separator'][$count_5e833bda2b829d40d224046cdfa38341]['author_id'] = $author_id;
$this->functionData['signature_separator'][$count_5e833bda2b829d40d224046cdfa38341]['can_ignore'] = $can_ignore;
}
$IPBHTML .= "<div class=\"signature\" data-memberid=\"{$author_id}\">
	" . (($this->memberData['member_id'] && $this->memberData['member_id'] != $author_id && $can_ignore) ? ("<a href='#' class='hide_signature'></a>") : ("")) . "
	{$sig}
</div>";
return $IPBHTML;
}

/* -- userHoverCard --*/
function userHoverCard($member=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['userHoverCard'] ) )
{
$count_722d0096c19542b5c0e9b114939acec3 = is_array($this->functionData['userHoverCard']) ? count($this->functionData['userHoverCard']) : 0;
$this->functionData['userHoverCard'][$count_722d0096c19542b5c0e9b114939acec3]['member'] = $member;
}
$IPBHTML .= "" . (($member['member_id'] && ( $this->memberData['g_is_supmod'] || ($this->memberData['g_mem_info'] && ! IPSMember::isInactive($member) ) ) && !$this->request['forcePrint']) ? ("<a hovercard-ref='member' hovercard-id='{$member['member_id']}' data-ipb='noparse' class='_hovertrigger url fn name " . ((isset($member['_hoverClass'])) ? (" {$member['_hoverClass']}") : ("")) . "' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "' title='" . ((!empty($member['_hoverTitle'])) ? ("{$member['_hoverTitle']}") : ("{$this->lang->words['view_profile']}")) . "'><span itemprop='name'>{$member['members_display_name']}</span></a>") : ("
	{$member['members_display_name']}
")) . "";
return $IPBHTML;
}

/* -- userInfoPane --*/
function userInfoPane($author, $contentid, $options) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['userInfoPane'] ) )
{
$count_3a58acf92bc15815faa7ee3a19d18176 = is_array($this->functionData['userInfoPane']) ? count($this->functionData['userInfoPane']) : 0;
$this->functionData['userInfoPane'][$count_3a58acf92bc15815faa7ee3a19d18176]['author'] = $author;
$this->functionData['userInfoPane'][$count_3a58acf92bc15815faa7ee3a19d18176]['contentid'] = $contentid;
$this->functionData['userInfoPane'][$count_3a58acf92bc15815faa7ee3a19d18176]['options'] = $options;
}

$member = IPSMember::load($author['member_id']);
$IPBHTML .= "<div itemscope itemtype=\"http://schema.org/Person\" class='user_details'>	<span class='hide' itemprop=\"name\">{$author['members_display_name']}</span>
	<ul class='basic_info'>
		" . (($author['member_title']) ? ("
			<p class='desc member_title'>{$author['member_title']}</p>
		") : ("")) . "
		" . (($author['member_id']) ? ("<li class='avatar'>
				" . (($this->memberData['g_is_supmod'] OR ( $this->memberData['g_mem_info'] && ! IPSMember::isInactive( $author ) )) ? ("
				<a itemprop=\"url\" href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$author['member_id']}", "public",'' ), "{$author['members_seo_name']}", "showuser" ) . "\" title=\"{$this->lang->words['view_profile']}: {$author['members_display_name']}\" class='ipsUserPhotoLink'>
				") : ("")) . "
				" . (($this->settings['member_topic_avatar_max']) ? ("
					<img itemprop=\"image\" src='{$author['pp_main_photo']}' class='ipsUserPhoto ipsUserPhoto_variable' />
				") : ("
					<img itemprop=\"image\" src='{$author['pp_main_photo']}' class='ipsUserPhoto ipsUserPhoto_large' />
				")) . "
				" . (($this->memberData['g_is_supmod'] OR ( $this->memberData['g_mem_info'] && ! IPSMember::isInactive( $author ) )) ? ("
				</a>
				") : ("")) . "
			</li>") : ("
			<li class='avatar'>
				<img itemprop=\"image\" src='{$author['pp_thumb_photo']}' class='ipsUserPhoto ipsUserPhoto_large' />
			</li>
		")) . "
		<li class='group_title'>
			{$author['_group_formatted']}
		</li>
		" . (($author['member_rank_img']) ? ("<li class='group_icon'>
			" . (($author['member_rank_img_i'] == 'img') ? ("
				<img src='{$author['member_rank_img']}' alt='' />
			") : ("
				{$author['member_rank_img']}
			")) . "
			</li>") : ("")) . "

		" . (($author['show_warn']) ? ("<li>
				" . (($options['wl_id']) ? ("
					<img src='{$this->settings['img_url']}/warn.png' class='clickable' onclick='warningPopup( this, {$options['wl_id']} )' title='{$this->lang->words['warnings_issued']}' />
				") : ("")) . "
				<a class='desc lighter blend_links' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=warnings&amp;member={$author['member_id']}&amp;from_app={$this->request['app']}&amp;from_id1={$contentid}&amp;from_id2={$options['id2']}", "public",'' ), "", "" ) . "' id='warn_link_{$contentid}_{$author['member_id']}' title='{$this->lang->words['warn_view_history']}'>" . sprintf( $this->lang->words['warn_status'], $author['warn_level'] ) . "</a>
			</li>") : ("")) . "
	</ul>
	
	" . (($author['custom_fields'] != "") ? ("

		".$this->__f__21e1c6e73e91e32a8ab8142baf6d48ea($author,$contentid,$options)."		<!--
<ul class='custom_fields'>
			".$this->__f__ebf6ab6239c8f807cfb982ceaf72ee64($author,$contentid,$options)."		</ul>
-->
	") : ("")) . "
	
</div>";
return $IPBHTML;
}


function __f__0b2343649a6926c313f8671859982202($author, $contentid, $options,$group='',$data='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $author['custom_fields'][ $group ] as $field )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				
					{$field}&nbsp;
				
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__21e1c6e73e91e32a8ab8142baf6d48ea($author, $contentid, $options)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $author['custom_fields'] as $group => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			".$this->__f__0b2343649a6926c313f8671859982202($author,$contentid,$options,$group,$data)."		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__c63a3af8a5ceee312b9d6241ebfe3b3b($author, $contentid, $options,$group='',$data='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $author['custom_fields'][ $group ] as $field )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					" . (($field != '') ? ("
						<li>
							{$field}
						</li>
					") : ("")) . "
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__ebf6ab6239c8f807cfb982ceaf72ee64($author, $contentid, $options)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $author['custom_fields'] as $group => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				".$this->__f__c63a3af8a5ceee312b9d6241ebfe3b3b($author,$contentid,$options,$group,$data)."			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- userSmallPhoto --*/
function userSmallPhoto($member=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['userSmallPhoto'] ) )
{
$count_6b54005df7e031ccdd20352c892db854 = is_array($this->functionData['userSmallPhoto']) ? count($this->functionData['userSmallPhoto']) : 0;
$this->functionData['userSmallPhoto'][$count_6b54005df7e031ccdd20352c892db854]['member'] = $member;
}
$IPBHTML .= "" . (($member['member_id'] && ( $this->memberData['g_is_supmod'] || ($this->memberData['g_mem_info'] && ! IPSMember::isInactive($member) ) )) ? ("
	<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "' class='ipsUserPhotoLink left'>
") : ("
	<div class='left'>
")) . "
" . (($member['member_id']) ? ("<img src='{$member['pp_small_photo']}' alt='" . (($member['alt']) ? ("{$member['alt']}") : ("{$this->lang->words['photo']}")) . "' class='ipsUserPhoto " . ((empty($member['_customClass'])) ? ("ipsUserPhoto_mini") : ("{$member['_customClass']}")) . "' />") : ("
	" . IPSMember::buildNoPhoto(0, 'mini' ) . "
")) . "
" . (($member['member_id'] && ( $this->memberData['g_is_supmod'] || ($this->memberData['g_mem_info'] && ! IPSMember::isInactive($member) ) )) ? ("
	</a>
") : ("
	</div>
")) . "";
return $IPBHTML;
}

/* -- warnDetails --*/
function warnDetails($warning, $canSeeModNote) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['warnDetails'] ) )
{
$count_061880c5b84ed0577fd0ddf73ba1b0b1 = is_array($this->functionData['warnDetails']) ? count($this->functionData['warnDetails']) : 0;
$this->functionData['warnDetails'][$count_061880c5b84ed0577fd0ddf73ba1b0b1]['warning'] = $warning;
$this->functionData['warnDetails'][$count_061880c5b84ed0577fd0ddf73ba1b0b1]['canSeeModNote'] = $canSeeModNote;
}
$IPBHTML .= "<h3>{$this->lang->words['warnings_details']}</h3>
<div class='ipsBox'>
	<p class='message unspecific'>
		" . (($warning['wl_reason']) ? ("" . (($warning['content']) ? ("
				" . sprintf( $this->lang->words['warning_blurb_yy'], "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($warning['wl_moderator']) : '' ) . "", $warning['wl_reason'], $warning['content'] ) . "
			") : ("
				" . sprintf( $this->lang->words['warning_blurb_yn'], "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($warning['wl_moderator']) : '' ) . "", $warning['wl_reason'] ) . "
			")) . "") : ("" . (($warning['content']) ? ("
				" . sprintf( $this->lang->words['warning_blurb_ny'], "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($warning['wl_moderator']) : '' ) . "", $warning['content'] ) . "
			") : ("
				" . sprintf( $this->lang->words['warning_blurb_nn'], "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($warning['wl_moderator']) : '' ) . "" ) . "
			")) . "")) . "
		<br />
		" . ((!$warning['wl_points'] and !$warning['wl_mq'] and !$warning['wl_rpa'] and !$warning['wl_suspend']) ? ("
			{$this->lang->words['warnings_verbal_only']}
		") : ("" . (($warning['wl_points']) ? ("" . (($warning['wl_expire']) ? ("" . (($warning['wl_expire_date']) ? ("
						" . sprintf( $this->lang->words['warnings_given_points_expire'], $warning['wl_points'], $this->lang->getDate( $warning['wl_expire_date'], 'SHORT' ) ) . "<br />
					") : ("
						" . sprintf( $this->lang->words['warnings_given_points_expired'], $warning['wl_points'] ) . "<br />
					")) . "") : ("
					" . sprintf( $this->lang->words['warnings_given_points'], $warning['wl_points'] ) . "<br />
				")) . "") : ("")) . "
			".$this->__f__f86978f7c99d3a5514be18e2c0383bbc($warning,$canSeeModNote)."")) . "
	</p>
	" . (($canSeeModNote and $warning['wl_note_mods']) ? ("<div class='ipsBox_container ipsPad'>
			<strong>{$this->lang->words['warnings_note_member']}</strong>
			<br /><br />
			" . (($warning['wl_note_member']) ? ("
				{$warning['wl_note_member']}
			") : ("
				<em>{$this->lang->words['warnings_no_note']}</em>
			")) . "
		</div>
		<div class='ipsBox_container ipsPad'>
			<strong>{$this->lang->words['warnings_note_mods']}</strong>
			<br /><br />
			{$warning['wl_note_mods']}
		</div>") : ("<div class='ipsBox_container ipsPad'>
			" . (($warning['wl_note_member']) ? ("
				{$warning['wl_note_member']}
			") : ("
				<em>{$this->lang->words['warnings_no_note']}</em>
			")) . "
		</div>")) . "
</div>";
return $IPBHTML;
}


function __f__f86978f7c99d3a5514be18e2c0383bbc($warning, $canSeeModNote)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( array( 'mq', 'rpa', 'suspend' ) as $k )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				" . (($warning[ 'wl_' . $k ]) ? ("" . (($warning[ 'wl_' . $k ] == -1 || $warning[ 'wl_' . $k ] == -2) ? ("
						" . sprintf( $this->lang->words[ 'warnings_' . $k ], $this->lang->words['warnings_permanently'] ) . "<br />
					") : ("
						" . sprintf( $this->lang->words[ 'warnings_' . $k ], sprintf( $this->lang->words['warnings_for'], $warning[ 'wl_' . $k ], $this->lang->words[ 'warnings_time_' . $warning[ 'wl_' . $k . '_unit' ] ] ) ) . "<br />
					")) . "") : ("")) . "
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>