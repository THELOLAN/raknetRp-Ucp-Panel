<?php
 class Platform_Toolbox { public $registry; public $DB; public $settings; public $request; public $lang; public $member; public $memberData; public $cache; public $caches; public $boards; public function __construct() { $this->registry = ipsRegistry::instance(); $this->DB = $this->registry->DB(); $this->settings =& $this->registry->fetchSettings(); $this->request =& $this->registry->fetchRequest(); $this->lang = $this->registry->getClass('class_localization'); $this->member = $this->registry->member(); $this->memberData =& $this->registry->member()->fetchMemberData(); $this->cache = $this->registry->cache(); $this->caches =& $this->registry->cache()->fetchCaches(); $this->lang->loadLanguageFile( array( 'public_login' ), 'core' ); } public function set( $arrays ) { foreach( $arrays as $key => $value ) { $this->$key = $value; } return $this; } public function load_boards() { if( $this->boards === null ) { require_once IPSLib::getAppDir('forums') . '/modules_public/forums/boards.php'; $this->boards = new public_forums_forums_boards(); $this->boards->makeRegistryShortcuts($this->registry); $this->registry->getClass('class_localization')->loadLanguageFile( array( 'public_boards' ), 'forums' ); } } }